(window.webpackJsonp=window.webpackJsonp||[]).push([[154],{471:function(t,s,e){"use strict";e.r(s);var a=e(1),n=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("webpack 能够为多种环境或 "),s("em",[t._v("target")]),t._v(" 构建编译。想要理解什么是 "),s("code",[t._v("target")]),t._v(" 的详细信息，请阅读"),s("code",[t._v("target")]),t._v("概念页面。")]),t._v(" "),s("h2",{attrs:{id:"target"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#target"}},[t._v("#")]),t._v(" "),s("code",[t._v("target")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("type")]),t._v(": "),s("code",[t._v("string | function(compiler)")])])]),t._v(" "),s("p",[t._v("告知 webpack 为目标(target)指定一个环境。")]),t._v(" "),s("h2",{attrs:{id:"string"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#string"}},[t._v("#")]),t._v(" "),s("code",[t._v("string")])]),t._v(" "),s("p",[t._v("通过 "),s("a",{attrs:{href:"https://github.com/webpack/webpack/blob/master/lib/WebpackOptionsApply.js",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("WebpackOptionsApply")]),s("OutboundLink")],1),t._v(" ，可以支持以下字符串值：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("选项")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("async-node")]),t._v(" "),s("td",[t._v("编译为类 Node.js 环境可用（使用 fs 和 vm 异步加载分块）")])]),t._v(" "),s("tr",[s("td",[s("s",[t._v("atom")])]),t._v(" "),s("td",[s("code",[t._v("electron-main")]),t._v(" 的别名")])]),t._v(" "),s("tr",[s("td",[s("s",[t._v("electron")])]),t._v(" "),s("td",[s("code",[t._v("electron-main")]),t._v(" 的别名")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("electron-main")])]),t._v(" "),s("td",[t._v("编译为 "),s("a",{attrs:{href:"https://electronjs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Electron"),s("OutboundLink")],1),t._v(" 主进程。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("electron-renderer")])]),t._v(" "),s("td",[t._v("编译为 "),s("a",{attrs:{href:"https://electronjs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Electron"),s("OutboundLink")],1),t._v(" 渲染进程，使用 "),s("code",[t._v("JsonpTemplatePlugin")]),t._v(", "),s("code",[t._v("FunctionModulePlugin")]),t._v(" 来为浏览器环境提供目标，使用 "),s("code",[t._v("NodeTargetPlugin")]),t._v(" 和 "),s("code",[t._v("ExternalsPlugin")]),t._v(" 为 CommonJS 和 Electron 内置模块提供目标。")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("node")])]),t._v(" "),s("td",[t._v("编译为类 Node.js 环境可用（使用 Node.js "),s("code",[t._v("require")]),t._v(" 加载 chunk）")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("node-webkit")])]),t._v(" "),s("td",[t._v("编译为 Webkit 可用，并且使用 jsonp 去加载分块。支持 Node.js 内置模块和 "),s("a",{attrs:{href:"http://docs.nwjs.io/en/latest/",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("nw.gui")]),s("OutboundLink")],1),t._v(" 导入（实验性质）")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("web")])]),t._v(" "),s("td",[t._v("编译为类浏览器环境里可用**（默认）**")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("webworker")])]),t._v(" "),s("td",[t._v("编译成一个 WebWorker")])])])]),t._v(" "),s("p",[t._v("例如，当 "),s("em",[t._v("target")]),t._v(" 设置为 "),s("code",[t._v('"electron"')]),t._v("，"),s("em",[t._v("webpack")]),t._v(" 引入多个 electron 特定的变量。有关使用哪些模板和 externals 的更多信息，你可以"),s("a",{attrs:{href:"https://github.com/webpack/webpack/blob/master/lib/WebpackOptionsApply.js#L70-L185",target:"_blank",rel:"noopener noreferrer"}},[t._v("直接参考 webpack 源码"),s("OutboundLink")],1),t._v("。")]),t._v(" "),s("h2",{attrs:{id:"function"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#function"}},[t._v("#")]),t._v(" "),s("code",[t._v("function")])]),t._v(" "),s("p",[t._v("如果传入一个函数，此函数调用时会传入一个 compiler 作为参数。如果以上列表中没有一个预定义的目标(target)符合你的要求，请将其设置为一个函数。")]),t._v(" "),s("p",[t._v("例如，如果你不需要使用以上任何插件：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" options "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("target")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("或者可以使用你想要指定的插件")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" webpack "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webpack"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" options "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("target")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("compiler")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("compiler")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("webpack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("JsonpTemplatePlugin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("webpack"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("LoaderTargetPlugin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"web"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])])])}),[],!1,null,null,null);s.default=n.exports}}]);