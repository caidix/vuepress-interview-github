(window.webpackJsonp=window.webpackJsonp||[]).push([[148],{465:function(t,s,a){"use strict";a.r(s);var e=a(1),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[s("code",[t._v("output")]),t._v(" 位于对象最顶级键(key)，包括了一组选项，指示 "),s("code",[t._v("webpack")]),t._v(" 如何去输出、以及在哪里输出你的「"),s("code",[t._v("bundle")]),t._v("、"),s("code",[t._v("asset")]),t._v(" 和其他你所打包或使用 "),s("code",[t._v("webpack")]),t._v(" 载入的任何内容」。")]),t._v(" "),s("h2",{attrs:{id:"utput-auxiliarycomment"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#utput-auxiliarycomment"}},[t._v("#")]),t._v(" "),s("code",[t._v("utput.auxiliaryComment")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("type")]),t._v(": "),s("code",[t._v("string")]),t._v(" "),s("code",[t._v("object")])])]),t._v(" "),s("p",[t._v("在和 "),s("a",{attrs:{href:"https://www.webpackjs.com/configuration/output/#output-library",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("output.library")]),s("OutboundLink")],1),t._v(" 和 "),s("a",{attrs:{href:"https://www.webpackjs.com/configuration/output/#output-librarytarget",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("output.libraryTarget")]),s("OutboundLink")],1),t._v(" 一起使用时，此选项允许用户向导出容器(export wrapper)中插入注释。要为 "),s("code",[t._v("libraryTarget")]),t._v(" 每种类型都插入相同的注释，将 "),s("code",[t._v("auxiliaryComment")]),t._v(" 设置为一个字符串：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("output")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("library")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"someLibName"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("libraryTarget")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"umd"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("filename")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"someLibName.js"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("auxiliaryComment")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Test Comment"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[t._v("将会生成如下：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("webpackUniversalModuleDefinition")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("root"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" factory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Test Comment")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'object'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" module "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'object'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("factory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lodash"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Test Comment")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" define "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'function'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" define"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("amd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("define")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lodash"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" factory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Test Comment")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'object'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    exports"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"someLibName"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("factory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lodash"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Test Comment")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n    root"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"someLibName"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("factory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("root"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"_"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("__WEBPACK_EXTERNAL_MODULE_1__")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br")])]),s("p",[t._v("对于 "),s("code",[t._v("libraryTarget")]),t._v(" 每种类型的注释进行更细粒度地控制，请传入一个对象：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("auxiliaryComment")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("root")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Root Comment"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("commonjs")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CommonJS Comment"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("commonjs2")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CommonJS2 Comment"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("amd")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AMD Comment"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("h2",{attrs:{id:"output-chunkfilename"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-chunkfilename"}},[t._v("#")]),t._v(" "),s("code",[t._v("output.chunkFilename")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("type")]),t._v(": "),s("code",[t._v("string")]),t._v(" "),s("code",[t._v("function")])])]),t._v(" "),s("p",[t._v("此选项决定了非入口(non-entry) chunk 文件的名称。有关可取的值的详细信息，请查看 "),s("a",{attrs:{href:"https://www.webpackjs.com/configuration/output/#output-filename",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("output.filename")]),s("OutboundLink")],1),t._v(" 选项。")]),t._v(" "),s("p",[t._v("注意，这些文件名需要在 runtime 根据 chunk 发送的请求去生成。因此，需要在 "),s("code",[t._v("webpack runtime")]),t._v(" 输出 bundle 值时，将 chunk id 的值对应映射到占位符(如 "),s("code",[t._v("[name]")]),t._v(" 和 "),s("code",[t._v("[chunkhash]")]),t._v(")。这会增加文件大小，并且在任何 chunk 的占位符值修改后，都会使 bundle 失效。")]),t._v(" "),s("p",[t._v("默认使用 "),s("code",[t._v("[id].js")]),t._v(" 或从 "),s("a",{attrs:{href:"https://www.webpackjs.com/configuration/output/#output-filename",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("output.filename")]),s("OutboundLink")],1),t._v(" 中推断出的值（"),s("code",[t._v("[name]")]),t._v(" 会被预先替换为 "),s("code",[t._v("[id]")]),t._v(" 或 "),s("code",[t._v("[id].")]),t._v("）。")]),t._v(" "),s("h2",{attrs:{id:"output-chunkloadtimeout"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-chunkloadtimeout"}},[t._v("#")]),t._v(" "),s("code",[t._v("output.chunkLoadTimeout")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("type")]),t._v(": "),s("code",[t._v("integer")]),t._v("（未知）")])]),t._v(" "),s("p",[t._v("chunk 请求到期之前的毫秒数，默认为 120 000。从 "),s("code",[t._v("webpack 2.6.0")]),t._v(" 开始支持此选项。")]),t._v(" "),s("h2",{attrs:{id:"output-crossoriginloading"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-crossoriginloading"}},[t._v("#")]),t._v(" "),s("code",[t._v("output.crossOriginLoading")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("type")]),t._v("： "),s("code",[t._v("boolean")]),t._v(" "),s("code",[t._v("string")])])]),t._v(" "),s("p",[t._v("只用于 "),s("a",{attrs:{href:"https://www.webpackjs.com/configuration/target",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("target")]),s("OutboundLink")],1),t._v(" 是 web，使用了通过 script 标签的 "),s("code",[t._v("JSONP")]),t._v(" 来按需加载 chunk。")]),t._v(" "),s("p",[t._v("启用 "),s("a",{attrs:{href:"https://developer.mozilla.org/en/docs/Web/HTML/Element/script#attr-crossorigin",target:"_blank",rel:"noopener noreferrer"}},[t._v("cross-origin 属性"),s("OutboundLink")],1),t._v(" 加载 "),s("code",[t._v("chunk")]),t._v("。以下是可接收的值……")]),t._v(" "),s("p",[s("code",[t._v("crossOriginLoading: false")]),t._v(" - 禁用跨域加载（默认）")]),t._v(" "),s("p",[s("code",[t._v('crossOriginLoading: "anonymous"')]),t._v(" - **不带凭据(credential)**启用跨域加载")]),t._v(" "),s("p",[s("code",[t._v('crossOriginLoading: "use-credentials"')]),t._v(" - **带凭据(credential)**启用跨域加载 "),s("strong",[t._v("with credentials")])]),t._v(" "),s("h2",{attrs:{id:"output-jsonpscripttype"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-jsonpscripttype"}},[t._v("#")]),t._v(" "),s("code",[t._v("output.jsonpScriptType")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("type")]),t._v(":  "),s("code",[t._v("string")])])]),t._v(" "),s("p",[t._v("允许自定义 "),s("code",[t._v("script")]),t._v(" 的类型，"),s("code",[t._v("webpack")]),t._v(" 会将 "),s("code",[t._v("script")]),t._v(" 标签注入到 DOM 中以下载异步 chunk。可以使用以下选项：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v('"text/javascript"')]),t._v("（默认）")]),t._v(" "),s("li",[s("code",[t._v('"module"')]),t._v("：与 "),s("code",[t._v("ES6")]),t._v(" 就绪代码一起使用。")])]),t._v(" "),s("h2",{attrs:{id:"output-devtoolfallbackmodulefilenametemplate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-devtoolfallbackmodulefilenametemplate"}},[t._v("#")]),t._v(" "),s("code",[t._v("output.devtoolFallbackModuleFilenameTemplate")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("type")]),t._v(":  "),s("code",[t._v("string | function(info)")])])]),t._v(" "),s("p",[t._v("当上面的模板字符串或函数产生重复时使用的备用内容。")]),t._v(" "),s("p",[t._v("查看 "),s("code",[t._v("output.devtoolModuleFilenameTemplate")])]),t._v(" "),s("h2",{attrs:{id:"output-devtoollinetoline"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-devtoollinetoline"}},[t._v("#")]),t._v(" "),s("code",[t._v("output.devtoolLineToLine")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("type")]),t._v(":  "),s("code",[t._v("boolean | object")])]),t._v(" "),s("p",[t._v("避免使用此选项，因为它们已废弃，并将很快删除。 it is "),s("strong",[t._v("deprecated")]),t._v(" and will soon be removed.")])]),t._v(" "),s("p",[t._v("对所有或某些模块启用「行到行映射(line to line mapping)」。这将生成基本的源映射(source map)，即生成资源(generated source)的每一行，映射到原始资源(original source)的同一行。这是一个性能优化点，并且应该只需要输入行(input line)和生成行(generated line)相匹配时才使用。")]),t._v(" "),s("p",[t._v("传入 boolean 值，对所有模块启用或禁用此功能（默认 "),s("code",[t._v("false")]),t._v("）。对象可有 "),s("code",[t._v("test")]),t._v(", "),s("code",[t._v("include")]),t._v(", "),s("code",[t._v("exclude")]),t._v(" 三种属性。例如，对某个特定目录中所有 "),s("code",[t._v("javascript")]),t._v(" 文件启用此功能：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("devtoolLineToLine")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\.js$")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("include")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'src/utilities'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"output-devtoolmodulefilenametemplate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-devtoolmodulefilenametemplate"}},[t._v("#")]),t._v(" "),s("code",[t._v("output.devtoolModuleFilenameTemplate")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("type")]),t._v(": "),s("code",[t._v("string | function(info)")])])]),t._v(" "),s("p",[t._v("此选项仅在 「"),s("a",{attrs:{href:"https://www.webpackjs.com/configuration/devtool",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("devtool")]),s("OutboundLink")],1),t._v(" 使用了需要模块名称的选项」时使用。")]),t._v(" "),s("p",[t._v("自定义每个 "),s("code",[t._v("source map")]),t._v(" 的 "),s("code",[t._v("sources")]),t._v(" 数组中使用的名称。可以通过传递模板字符串("),s("code",[t._v("template string")]),t._v(")或者函数来完成。例如，当使用 "),s("code",[t._v("devtool: 'eval'")]),t._v("，默认值是：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("devtoolModuleFilenameTemplate")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webpack://[namespace]/[resource-path]?[loaders]"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("模板字符串("),s("code",[t._v("template string")]),t._v(")中做以下替换（通过 "),s("code",[t._v("webpack")]),t._v(" 内部的 "),s("code",[t._v("ModuleFilenameHelpers")]),t._v("）：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("模板")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("[absolute-resource-path]")]),t._v(" "),s("td",[t._v("绝对路径文件名")])]),t._v(" "),s("tr",[s("td",[t._v("[all-loaders]")]),t._v(" "),s("td",[t._v("自动和显式的 loader，并且参数取决于第一个 loader 名称")])]),t._v(" "),s("tr",[s("td",[t._v("[hash]")]),t._v(" "),s("td",[t._v("模块标识符的 hash")])]),t._v(" "),s("tr",[s("td",[t._v("[id]")]),t._v(" "),s("td",[t._v("模块标识符")])]),t._v(" "),s("tr",[s("td",[t._v("[loaders]")]),t._v(" "),s("td",[t._v("显式的 loader，并且参数取决于第一个 loader 名称")])]),t._v(" "),s("tr",[s("td",[t._v("[resource]")]),t._v(" "),s("td",[t._v("用于解析文件的路径和用于第一个 loader 的任意查询参数")])]),t._v(" "),s("tr",[s("td",[t._v("[resource-path]")]),t._v(" "),s("td",[t._v("不带任何查询参数，用于解析文件的路径")])]),t._v(" "),s("tr",[s("td",[t._v("["),s("code",[t._v("namespace")]),t._v("]")]),t._v(" "),s("td",[t._v("模块命名空间。在构建成为一个 library 之后，通常也是 library 名称，否则为空")])])])]),t._v(" "),s("p",[t._v("当使用一个函数，同样的选项要通过 "),s("code",[t._v("info")]),t._v(" 参数并使用驼峰式(camel-cased)：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("devtoolModuleFilenameTemplate")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("info")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("webpack:///")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("info"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resourcePath"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("info"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("loaders"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("如果多个模块产生相同的名称，使用 "),s("a",{attrs:{href:"https://www.webpackjs.com/configuration/output/#output-devtoolfallbackmodulefilenametemplate",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("output.devtoolFallbackModuleFilenameTemplate")]),s("OutboundLink")],1),t._v(" 来代替这些模块。")]),t._v(" "),s("h2",{attrs:{id:"output-devtoolnamespace"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-devtoolnamespace"}},[t._v("#")]),t._v(" "),s("code",[t._v("output.devtoolNamespace")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("type")]),t._v(": "),s("strong",[s("code",[t._v("string")])])])]),t._v(" "),s("p",[t._v("此选项确定 "),s("a",{attrs:{href:"https://www.webpackjs.com/configuration/output/#output-devtoolmodulefilenametemplate",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("output.devtoolModuleFilenameTemplate")]),s("OutboundLink")],1),t._v(" 使用的模块名称空间。未指定时的默认值为："),s("a",{attrs:{href:"https://www.webpackjs.com/configuration/output/#output-library",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("output.library")]),s("OutboundLink")],1),t._v("。在加载多个通过 "),s("code",[t._v("webpack")]),t._v(" 构建的 library 时，用于防止 "),s("code",[t._v("sourcemap")]),t._v(" 中源文件路径冲突。")]),t._v(" "),s("p",[t._v("例如，如果你有两个 library，分别使用命名空间 "),s("code",[t._v("library1")]),t._v(" 和 "),s("code",[t._v("library2")]),t._v("，并且都有一个文件 "),s("code",[t._v("./src/index.js")]),t._v("（可能具有不同内容），它们会将这些文件暴露为 "),s("code",[t._v("webpack://library1/./src/index.js")]),t._v(" 和 "),s("code",[t._v("webpack://library2/./src/index.js")]),t._v("。")]),t._v(" "),s("h2",{attrs:{id:"output-filename"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-filename"}},[t._v("#")]),t._v(" "),s("code",[t._v("output.filename")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("type")]),t._v(": "),s("code",[t._v("string")]),t._v(" "),s("code",[t._v("function")])])]),t._v(" "),s("p",[t._v("此选项决定了每个输出 bundle 的名称。这些 bundle 将写入到 "),s("a",{attrs:{href:"https://www.webpackjs.com/configuration/output/#output-path",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("output.path")]),s("OutboundLink")],1),t._v(" 选项指定的目录下。")]),t._v(" "),s("p",[t._v("对于单个入口起点，filename 会是一个静态名称。")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("filename")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bundle.js"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("然而，当通过多个入口起点(entry point)、代码拆分("),s("code",[t._v("code splitting")]),t._v(")或各种插件("),s("code",[t._v("plugin")]),t._v(")创建多个 bundle，应该使用以下一种替换方式，来赋予每个 bundle 一个唯一的名称……")]),t._v(" "),s("p",[t._v("使用入口名称：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("filename")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[name].bundle.js"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("使用内部 chunk id")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("filename")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[id].bundle.js"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("使用每次构建过程中，唯一的 hash 生成")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("filename")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[name].[hash].bundle.js"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("使用基于每个 chunk 内容的 hash：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("filename")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[chunkhash].bundle.js"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("请确保已阅读过"),s("a",{attrs:{href:"https://www.webpackjs.com/guides/caching",target:"_blank",rel:"noopener noreferrer"}},[t._v("指南 - 缓存"),s("OutboundLink")],1),t._v("的详细信息。这里涉及更多步骤，不仅仅是设置此选项。")]),t._v(" "),s("p",[t._v("注意此选项被称为文件名，但是你还是可以使用像 "),s("code",[t._v('"js/[name]/bundle.js"')]),t._v(" 这样的文件夹结构。")]),t._v(" "),s("p",[t._v("注意，此选项不会影响那些「按需加载 "),s("code",[t._v("chunk")]),t._v("」的输出文件。对于这些文件，请使用 "),s("a",{attrs:{href:"https://www.webpackjs.com/configuration/output/#output-chunkfilename",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("output.chunkFilename")]),s("OutboundLink")],1),t._v(" 选项来控制输出。通过 loader 创建的文件也不受影响。在这种情况下，你必须尝试 "),s("code",[t._v("loader")]),t._v(" 特定的可用选项。")]),t._v(" "),s("p",[t._v("可以使用以下替换模板字符串（通过 "),s("code",[t._v("webpack")]),t._v(" 内部的["),s("code",[t._v("TemplatedPathPlugin]TemplatedPathPlugin")]),t._v("）：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("模板")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("[hash]")]),t._v(" "),s("td",[t._v("模块标识符(module identifier)的 hash")])]),t._v(" "),s("tr",[s("td",[t._v("["),s("code",[t._v("chunkhash")]),t._v("]")]),t._v(" "),s("td",[t._v("chunk 内容的 hash")])]),t._v(" "),s("tr",[s("td",[t._v("[name]")]),t._v(" "),s("td",[t._v("模块名称")])]),t._v(" "),s("tr",[s("td",[t._v("[id]")]),t._v(" "),s("td",[t._v("模块标识符(module identifier)")])]),t._v(" "),s("tr",[s("td",[t._v("[query]")]),t._v(" "),s("td",[t._v("模块的 query，例如，文件名 "),s("code",[t._v("?")]),t._v(" 后面的字符串")])])])]),t._v(" "),s("p",[s("code",[t._v("[hash]")]),t._v(" 和 "),s("code",[t._v("[chunkhash]")]),t._v(" 的长度可以使用 "),s("code",[t._v("[hash:16]")]),t._v("（默认为20）来指定。或者，通过指定"),s("a",{attrs:{href:"https://www.webpackjs.com/configuration/output/#output-hashdigestlength",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("output.hashDigestLength")]),s("OutboundLink")],1),t._v(" 在全局配置长度。")]),t._v(" "),s("p",[t._v("如果将这个选项设为一个函数，函数将返回一个包含上面表格中替换信息的对象。")]),t._v(" "),s("blockquote",[s("p",[t._v("在使用 "),s("a",{attrs:{href:"https://www.webpackjs.com/plugins/extract-text-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("ExtractTextWebpackPlugin")]),s("OutboundLink")],1),t._v(" 时，可以用 "),s("code",[t._v("[contenthash]")]),t._v(" 来获取提取文件的 hash（既不是 "),s("code",[t._v("[hash]")]),t._v(" 也不是 "),s("code",[t._v("[chunkhash]")]),t._v("）。")])]),t._v(" "),s("h2",{attrs:{id:"output-hashdigest"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-hashdigest"}},[t._v("#")]),t._v(" "),s("code",[t._v("output.hashDigest")])]),t._v(" "),s("p",[t._v("在生成 hash 时使用的编码方式，默认为 "),s("code",[t._v("'hex'")]),t._v("。支持 "),s("code",[t._v("Node.js")]),t._v(" "),s("a",{attrs:{href:"https://nodejs.org/api/crypto.html#crypto_hash_digest_encoding",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("hash.digest")]),s("OutboundLink")],1),t._v(" 的所有编码。")]),t._v(" "),s("h2",{attrs:{id:"output-hashdigestlength"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-hashdigestlength"}},[t._v("#")]),t._v(" "),s("code",[t._v("output.hashDigestLength")])]),t._v(" "),s("p",[t._v("散列摘要的前缀长度，默认为 "),s("code",[t._v("20")]),t._v("。")]),t._v(" "),s("h2",{attrs:{id:"output-hashfunction"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-hashfunction"}},[t._v("#")]),t._v(" "),s("code",[t._v("output.hashFunction")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("type")]),t._v(": "),s("code",[t._v("string|function")])])]),t._v(" "),s("p",[t._v("散列算法，默认为 "),s("code",[t._v("'md5'")]),t._v("。支持 Node.JS "),s("a",{attrs:{href:"https://nodejs.org/api/crypto.html#crypto_crypto_createhash_algorithm_options",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("crypto.createHash")]),s("OutboundLink")],1),t._v(" 的所有功能。从 "),s("code",[t._v("4.0.0-alpha2")]),t._v(" 开始，"),s("code",[t._v("hashFunction")]),t._v(" 现在可以是一个返回自定义 hash 的构造函数。出于性能原因，你可以提供一个不加密的哈希函数(non-crypto hash function)。")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("hashFunction")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'metrohash'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MetroHash64\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("确保 hash 函数有可访问的 "),s("code",[t._v("update")]),t._v(" and "),s("code",[t._v("digest")]),t._v(" 方法。")]),t._v(" "),s("h2",{attrs:{id:"utput-hashsalt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#utput-hashsalt"}},[t._v("#")]),t._v(" "),s("code",[t._v("utput.hashSalt")])]),t._v(" "),s("p",[t._v("一个可选的加盐值，通过 "),s("code",[t._v("Node.JS")]),t._v(" "),s("a",{attrs:{href:"https://nodejs.org/api/crypto.html#crypto_hash_update_data_inputencoding",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("hash.update")]),s("OutboundLink")],1),t._v(" 来更新哈希。")]),t._v(" "),s("h2",{attrs:{id:"output-hotupdatechunkfilename"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-hotupdatechunkfilename"}},[t._v("#")]),t._v(" "),s("code",[t._v("output.hotUpdateChunkFilename")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("type")]),t._v(": "),s("code",[t._v("string")]),t._v(" "),s("code",[t._v("function")])])]),t._v(" "),s("p",[t._v("自定义热更新 chunk 的文件名。可选的值的详细信息，请查看 "),s("a",{attrs:{href:"https://www.webpackjs.com/configuration/output/#output-filename",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("output.filename")]),s("OutboundLink")],1),t._v(" 选项。")]),t._v(" "),s("p",[t._v("占位符只能是 "),s("code",[t._v("[id]")]),t._v(" 和 "),s("code",[t._v("[hash]")]),t._v("，默认值是：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("hotUpdateChunkFilename")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[id].[hash].hot-update.js"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("这里没有必要修改它。")]),t._v(" "),s("h2",{attrs:{id:"output-hotupdatefunction"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-hotupdatefunction"}},[t._v("#")]),t._v(" "),s("code",[t._v("output.hotUpdateFunction")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("type")]),t._v(": "),s("code",[t._v("function")])])]),t._v(" "),s("p",[t._v("只在 "),s("a",{attrs:{href:"https://www.webpackjs.com/configuration/target",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("target")]),s("OutboundLink")],1),t._v(" 是 web 时使用，用于加载热更新(hot update)的 "),s("code",[t._v("JSONP")]),t._v(" 函数。")]),t._v(" "),s("p",[s("code",[t._v("JSONP")]),t._v(" 函数用于异步加载("),s("code",[t._v("async load")]),t._v(")热更新(hot-update) chunk。")]),t._v(" "),s("p",[t._v("详细请查看 "),s("a",{attrs:{href:"https://www.webpackjs.com/configuration/output/#output-jsonpfunction",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("output.jsonpFunction")]),s("OutboundLink")],1),t._v("。")]),t._v(" "),s("h2",{attrs:{id:"output-hotupdatemainfilename"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-hotupdatemainfilename"}},[t._v("#")]),t._v(" "),s("code",[t._v("output.hotUpdateMainFilename")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("type")]),t._v(": "),s("code",[t._v("string")]),t._v(" "),s("code",[t._v("function")])])]),t._v(" "),s("p",[t._v("自定义热更新的主文件名(main filename)。可选的值的详细信息，请查看 "),s("a",{attrs:{href:"https://www.webpackjs.com/configuration/output/#output-filename",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("output.filename")]),s("OutboundLink")],1),t._v(" 选项")]),t._v(" "),s("p",[t._v("占位符只能是 "),s("code",[t._v("[hash]")]),t._v("，默认值是：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("hotUpdateMainFilename")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[hash].hot-update.json"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("这里没有必要修改它。")]),t._v(" "),s("h2",{attrs:{id:"output-jsonpfunction"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-jsonpfunction"}},[t._v("#")]),t._v(" "),s("code",[t._v("output.jsonpFunction")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("type")]),t._v(": "),s("code",[t._v("string")])])]),t._v(" "),s("p",[t._v("只在 "),s("a",{attrs:{href:"https://www.webpackjs.com/configuration/target",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("target")]),s("OutboundLink")],1),t._v(" 是 web 时使用，用于按需加载(load on-demand) chunk 的 "),s("code",[t._v("JSONP")]),t._v(" 函数。")]),t._v(" "),s("p",[s("code",[t._v("JSONP")]),t._v(" 函数用于异步加载("),s("code",[t._v("async load")]),t._v(") chunk，或者拼接多个初始 chunk("),s("code",[t._v("CommonsChunkPlugin")]),t._v(","),s("code",[t._v("AggressiveSplittingPlugin")]),t._v(")。")]),t._v(" "),s("p",[t._v("如果在同一网页中使用了多个（来自不同编译过程(compilation)的）"),s("code",[t._v("webpack")]),t._v(" "),s("code",[t._v("runtime")]),t._v("，则需要修改此选项。")]),t._v(" "),s("p",[t._v("如果使用了 "),s("a",{attrs:{href:"https://www.webpackjs.com/configuration/output/#output-library",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("output.library")]),s("OutboundLink")],1),t._v(" 选项，library 名称时自动追加的。")]),t._v(" "),s("h2",{attrs:{id:"output-library"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-library"}},[t._v("#")]),t._v(" "),s("code",[t._v("output.library")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("type")]),t._v(": "),s("code",[t._v("string")])])]),t._v(" "),s("p",[s("code",[t._v("string")]),t._v(" 或 "),s("code",[t._v("object")]),t._v("（从 "),s("code",[t._v("webpack 3.1.0")]),t._v(" 开始；用于 "),s("code",[t._v('libraryTarget: "umd"')]),t._v("）")]),t._v(" "),s("p",[s("code",[t._v("output.library")]),t._v(" 的值的作用，取决于"),s("a",{attrs:{href:"https://www.webpackjs.com/configuration/output/#output-librarytarget",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("output.libraryTarget")]),s("OutboundLink")],1),t._v(" 选项的值；完整的详细信息请查阅该章节。注意，"),s("code",[t._v("output.libraryTarget")]),t._v(" 的默认选项是 "),s("code",[t._v("var")]),t._v("，所以如果使用以下配置选项：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("output")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("library")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyLibrary"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("如果生成的输出文件，是在 "),s("code",[t._v("HTML")]),t._v(" 页面中作为一个 "),s("code",[t._v("script")]),t._v(" 标签引入，则变量 "),s("code",[t._v("MyLibrary")]),t._v(" 将与入口文件的返回值绑定。")]),t._v(" "),s("blockquote",[s("p",[s("em",[t._v("注意，如果将")]),s("code",[t._v("数组")]),s("em",[t._v("作为")]),t._v(" "),s("code",[t._v("entry")]),s("em",[t._v("，那么只会暴露数组中的最后一个模块。如果将")]),s("code",[t._v("对象")]),s("em",[t._v("作为")]),t._v(" "),s("code",[t._v("entry")]),s("em",[t._v("，还可以使用")]),s("code",[t._v("数组")]),s("em",[t._v("语法暴露（具体查看")]),s("a",{attrs:{href:"https://github.com/webpack/webpack/tree/master/examples/multi-part-library",target:"_blank",rel:"noopener noreferrer"}},[t._v("这个示例"),s("OutboundLink")],1),t._v(" "),s("em",[t._v("for details)）。")])])]),t._v(" "),s("blockquote",[s("p",[s("em",[t._v("有关")]),t._v(" "),s("code",[t._v("output.library")]),t._v(" "),s("em",[t._v("以及")]),t._v(" "),s("code",[t._v("output.libraryTarget")]),t._v(" "),s("em",[t._v("详细信息，请查看")]),s("a",{attrs:{href:"https://www.webpackjs.com/guides/author-libraries",target:"_blank",rel:"noopener noreferrer"}},[t._v("创建 library 指南"),s("OutboundLink")],1),s("em",[t._v("。")])])]),t._v(" "),s("h2",{attrs:{id:"output-libraryexport"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-libraryexport"}},[t._v("#")]),t._v(" "),s("code",[t._v("output.libraryExport")])]),t._v(" "),s("blockquote",[s("p",[t._v("未处理")])]),t._v(" "),s("h3",{attrs:{id:"待解决"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#待解决"}},[t._v("#")]),t._v(" 待解决")]),t._v(" "),s("h2",{attrs:{id:"output-librarytarget"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-librarytarget"}},[t._v("#")]),t._v(" "),s("code",[t._v("output.libraryTarget")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("type")]),t._v(": "),s("code",[t._v("string")])]),t._v(" "),s("p",[t._v("默认值： "),s("code",[t._v("var")])])]),t._v(" "),s("p",[t._v("配置如何暴露 library。可以使用下面的选项中的任意一个。注意，此选项与分配给 "),s("a",{attrs:{href:"https://www.webpackjs.com/configuration/output/#output-library",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("output.library")]),s("OutboundLink")],1),t._v(" 的值一同使用。对于下面的所有示例，都假定将 "),s("code",[t._v("output.library")]),t._v(" 的值配置为 "),s("code",[t._v("MyLibrary")])]),t._v(" "),s("p",[s("em",[t._v("注意，下面的示例代码中的")]),t._v(" "),s("code",[t._v("_entry_return_")]),t._v(" "),s("em",[t._v("是入口起点返回的值。在 bundle 本身中，它是从入口起点、由 "),s("code",[t._v("webpack")]),t._v("生成的函数的输出结果。")])]),t._v(" "),s("h2",{attrs:{id:"暴露为一个变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#暴露为一个变量"}},[t._v("#")]),t._v(" 暴露为一个变量")]),t._v(" "),s("p",[t._v("这些选项将入口起点的返回值（例如，入口起点的任何导出值），在 bundle 包所引入的位置，赋值给 output.library 提供的变量名。")]),t._v(" "),s("p",[s("code",[t._v('libraryTarget: "var"')]),t._v(" - （默认值）当 library 加载完成，"),s("strong",[t._v("入口起点的返回值")]),t._v("将分配给一个变量：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" MyLibrary "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" _entry_return_"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在一个单独的 script……")]),t._v("\nMyLibrary"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("blockquote",[s("p",[s("em",[t._v("当使用此选项时，将")]),t._v(" "),s("code",[t._v("output.library")]),t._v(" "),s("em",[t._v("设置为空，会因为没有变量导致无法赋值。")])])]),t._v(" "),s("p",[s("code",[t._v('libraryTarget: "assign"')]),t._v(" - 这将产生一个隐含的全局变量，可能会潜在地重新分配到全局中已存在的值（谨慎使用）。.")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("MyLibrary "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" _entry_return_"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("注意，如果 "),s("code",[t._v("MyLibrary")]),t._v(" 在作用域中未在前面代码进行定义，则你的 library 将被设置在全局作用域内")]),t._v(" "),s("blockquote",[s("p",[s("em",[t._v("当使用此选项时，将")]),t._v(" "),s("code",[t._v("output.library")]),t._v(" "),s("em",[t._v("设置为空，将产生一个破损的输出 bundle。")])])]),t._v(" "),s("h2",{attrs:{id:"通过在对象上赋值暴露"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#通过在对象上赋值暴露"}},[t._v("#")]),t._v(" 通过在对象上赋值暴露")]),t._v(" "),s("p",[t._v("这些选项将入口起点的返回值（例如，入口起点的任何导出值）赋值给一个特定对象的属性（此名称由 "),s("code",[t._v("output.library")]),t._v(" 定义）下。")]),t._v(" "),s("p",[t._v("如果 "),s("code",[t._v("output.library")]),t._v(" 未赋值为一个非空字符串，则默认行为是，将入口起点返回的所有属性都赋值给一个对象（此对象由 "),s("code",[t._v("output.libraryTarget")]),t._v(" 特定），通过如下代码片段：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" a")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("libraryTarget"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" _entry_return_"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("blockquote",[s("p",[s("em",[t._v("注意，不设置")]),t._v(" "),s("code",[t._v("output.library")]),t._v(" "),s("em",[t._v("将导致由入口起点返回的所有属性，都会被赋值给给定的对象；这里并不会检查现有的属性名是否存在。")])])]),t._v(" "),s("p",[s("code",[t._v('libraryTarget: "this"')]),t._v(" - "),s("strong",[t._v("入口起点的返回值")]),t._v("将分配给 this 的一个属性（此名称由 "),s("code",[t._v("output.library")]),t._v(" 定义）下，"),s("code",[t._v("this")]),t._v(" 的含义取决于你：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyLibrary"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" _entry_return_"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在一个单独的 script……")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MyLibrary"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nMyLibrary"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果 this 是 window")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[s("code",[t._v('libraryTarget: "window"')]),t._v(" - "),s("strong",[t._v("入口起点的返回值")]),t._v("将使用 "),s("code",[t._v("output.library")]),t._v(" 中定义的值，分配给 "),s("code",[t._v("window")]),t._v(" 对象的这个属性下。")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyLibrary"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" _entry_return_"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nwindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MyLibrary"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[s("code",[t._v('libraryTarget: "global"')]),t._v(" - "),s("strong",[t._v("入口起点的返回值")]),t._v("将使用 "),s("code",[t._v("output.library")]),t._v(" 中定义的值，分配给 "),s("code",[t._v("global")]),t._v(" 对象的这个属性下。")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("global"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyLibrary"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" _entry_return_"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nglobal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MyLibrary"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[s("code",[t._v('libraryTarget: "commonjs"')]),t._v(" - "),s("strong",[t._v("入口起点的返回值")]),t._v("将使用 "),s("code",[t._v("output.library")]),t._v(" 中定义的值，分配给 exports 对象。这个名称也意味着，模块用于 CommonJS 环境：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("exports"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyLibrary"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" _entry_return_"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyLibrary"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h2",{attrs:{id:"模块定义系统"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#模块定义系统"}},[t._v("#")]),t._v(" 模块定义系统")]),t._v(" "),s("p",[t._v("这些选项将导致 bundle 带有更完整的模块头部，以确保与各种模块系统的兼容性。根据 "),s("code",[t._v("output.libraryTarget")]),t._v(" 选项不同，"),s("code",[t._v("output.library")]),t._v(" 选项将具有不同的含义。")]),t._v(" "),s("p",[s("code",[t._v('libraryTarget: "commonjs2"')]),t._v(" - "),s("strong",[t._v("入口起点的返回值")]),t._v("将分配给 "),s("code",[t._v("module.exports")]),t._v(" 对象。这个名称也意味着模块用于 "),s("code",[t._v("CommonJS")]),t._v(" 环境：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" _entry_return_"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyLibrary"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("注意，"),s("code",[t._v("output.library")]),t._v(" 会被省略，因此对于此特定的 "),s("code",[t._v("output.libraryTarget")]),t._v("，无需再设置 "),s("code",[t._v("output.library")]),t._v(" 。")]),t._v(" "),s("blockquote",[s("p",[s("em",[t._v("想要弄清楚 "),s("code",[t._v("CommonJS")]),t._v("和 "),s("code",[t._v("CommonJS2")]),t._v(" 之间的区别？虽然它们很相似，但二者之间存在一些微妙的差异，这通常与 "),s("code",[t._v("webpack")]),t._v(" 上下文没有关联")])])]),t._v(" "),s("p",[s("code",[t._v('libraryTarget: "amd"')]),t._v(" - 将你的 library 暴露为 "),s("code",[t._v("AMD")]),t._v(" 模块。")]),t._v(" "),s("p",[s("code",[t._v("AMD")]),t._v(" 模块要求入口 chunk（例如使用 "),s("code",[t._v("<script>")]),t._v(" 标签加载的第一个脚本）通过特定的属性定义，例如 "),s("code",[t._v("define")]),t._v(" 和 "),s("code",[t._v("require")]),t._v("，它们通常由 "),s("code",[t._v("RequireJS")]),t._v(" 或任何兼容的模块加载器提供（例如 almond）。否则，直接加载生成的 "),s("code",[t._v("AMD")]),t._v(" bundle 将导致报错，如 "),s("code",[t._v("define is not defined")]),t._v("。")]),t._v(" "),s("p",[t._v("所以，使用以下配置……")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("output")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("library")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyLibrary"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("libraryTarget")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"amd"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v('生成的 output 将会使用 "'),s("code",[t._v("MyLibrary")]),t._v('" 作为模块名定义，即')]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("define")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyLibrary"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" _entry_return_"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 此模块返回值，是入口 chunk 返回的值")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("可以在 script 标签中，将 bundle 作为一个模块整体引入，并且可以像这样调用 bundle：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MyLibrary'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("MyLibrary")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用 library 做一些事……")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("如果 "),s("code",[t._v("output.library")]),t._v(" 未定义，将会生成以下内容。")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("define")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" _entry_return_"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 此模块返回值，是入口 chunk 返回的值")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("如果直接加载 "),s("code",[t._v("<script>")]),t._v(" 标签，此 bundle 无法按预期运行，或者根本无法正常运行（在 almond loader 中）。只能通过文件的实际路径，在 "),s("code",[t._v("RequireJS")]),t._v(" 兼容的异步模块加载器中运行，因此在这种情况下，如果这些设置直接暴露在服务器上，那么 "),s("code",[t._v("output.path")]),t._v(" 和 "),s("code",[t._v("output.filename")]),t._v(" 对于这个特定的设置可能变得很重要。")]),t._v(" "),s("p",[s("code",[t._v('libraryTarget: "umd"')]),t._v(" - 将你的 library 暴露为所有的模块定义下都可运行的方式。它将在 "),s("code",[t._v("CommonJS")]),t._v(", "),s("code",[t._v("AMD")]),t._v(" 环境下运行，或将模块导出到 global 下的变量。了解更多请查看 "),s("a",{attrs:{href:"https://github.com/umdjs/umd",target:"_blank",rel:"noopener noreferrer"}},[t._v("UMD 仓库"),s("OutboundLink")],1),t._v("。")]),t._v(" "),s("p",[t._v("在这个例子中，你需要 "),s("code",[t._v("library")]),t._v(" 属性来命名你的模块：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("output")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("library")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyLibrary"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("libraryTarget")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"umd"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("最终输出如下：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("webpackUniversalModuleDefinition")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("root"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" factory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'object'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" module "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'object'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("factory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" define "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'function'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" define"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("amd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("define")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" factory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'object'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    exports"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyLibrary"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("factory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n    root"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyLibrary"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("factory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" self "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'undefined'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" self "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" _entry_return_"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 此模块返回值，是入口 chunk 返回的值")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("p",[t._v("注意，省略 "),s("code",[t._v("library")]),t._v(" 会导致将入口起点返回的所有属性，直接赋值给 root 对象，就像"),s("a",{attrs:{href:"https://www.webpackjs.com/configuration/output/#expose-via-object-assignment",target:"_blank",rel:"noopener noreferrer"}},[t._v("对象分配章节"),s("OutboundLink")],1),t._v("。例如：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("output")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("libraryTarget")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"umd"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("输出结果如下：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("webpackUniversalModuleDefinition")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("root"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" factory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'object'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" module "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'object'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("factory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" define "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'function'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" define"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("amd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("define")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" factory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("factory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'object'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" root"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" self "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'undefined'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" self "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" _entry_return_"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 此模块返回值，是入口 chunk 返回的值")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("p",[t._v("从 webpack 3.1.0 开始，你可以将 "),s("code",[t._v("library")]),t._v(" 指定为一个对象，用于给每个 target 起不同的名称：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("output")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("library")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("root")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MyLibrary"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("amd")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my-library"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("commonjs")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"my-common-library"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("libraryTarget")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"umd"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[t._v("模块验证 library。")]),t._v(" "),s("h2",{attrs:{id:"其他-targets"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#其他-targets"}},[t._v("#")]),t._v(" 其他 "),s("code",[t._v("Targets")])]),t._v(" "),s("p",[s("code",[t._v('libraryTarget: "jsonp"')]),t._v(" - 这将把入口起点的返回值，包裹到一个 jsonp 包装容器中")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("MyLibrary")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("_entry_return_"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("你的 library 的依赖将由 "),s("a",{attrs:{href:"https://www.webpackjs.com/configuration/externals/",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("externals")]),s("OutboundLink")],1),t._v(" 配置定义。")]),t._v(" "),s("h2",{attrs:{id:"output-path"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-path"}},[t._v("#")]),t._v(" "),s("code",[t._v("output.path")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("type")]),t._v(": "),s("code",[t._v("string")])])]),t._v(" "),s("p",[t._v("output 目录对应一个"),s("strong",[t._v("绝对路径")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dist/assets'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("注意，"),s("code",[t._v("[hash]")]),t._v(" 在参数中被替换为编译过程(compilation)的 hash。详细信息请查看指南 - 缓存。")]),t._v(" "),s("h2",{attrs:{id:"output-pathinfo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-pathinfo"}},[t._v("#")]),t._v(" "),s("code",[t._v("output.pathinfo")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("type")]),t._v(": "),s("code",[t._v("boolean")])])]),t._v(" "),s("p",[t._v("告诉 "),s("code",[t._v("webpack")]),t._v(" 在 bundle 中引入「所包含模块信息」的相关注释。此选项默认值是 "),s("code",[t._v("false")]),t._v("，并且"),s("strong",[t._v("不应该")]),t._v("用于生产环境(production)，但是对阅读开发环境(development)中的生成代码(generated code)极其有用。")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("pathinfo")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("注意，这些注释也会被添加至经过 tree shaking 后生成的 bundle 中。")]),t._v(" "),s("h2",{attrs:{id:"output-publicpath"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-publicpath"}},[t._v("#")]),t._v(" "),s("code",[t._v("output.publicPath")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("type")]),t._v(": "),s("code",[t._v("function")])])]),t._v(" "),s("p",[t._v("对于按需加载(on-demand-load)或加载外部资源(external resources)（如图片、文件等）来说，"),s("code",[t._v("output.publicPath")]),t._v(" 是很重要的选项。如果指定了一个错误的值，则在加载这些资源时会收到 404 错误。")]),t._v(" "),s("p",[t._v("此选项指定在浏览器中所引用的「此输出目录对应的"),s("strong",[t._v("公开 URL")]),t._v("」。相对 URL(relative URL) 会被相对于 HTML 页面（或 "),s("code",[t._v("<base>")]),t._v(" 标签）解析。相对于服务的 URL(Server-relative URL)，相对于协议的 URL(protocol-relative URL) 或绝对 URL(absolute URL) 也可是可能用到的，或者有时必须用到，例如：当将资源托管到 "),s("code",[t._v("CDN")]),t._v(" 时。")]),t._v(" "),s("p",[t._v("该选项的值是以 runtime(运行时) 或 loader(载入时) 所创建的每个 URL 为前缀。因此，在多数情况下，"),s("strong",[t._v("此选项的值都会以"),s("code",[t._v("/")]),t._v("结束")]),t._v("。")]),t._v(" "),s("p",[t._v("默认值是一个空字符串 "),s("code",[t._v('""')]),t._v("。")]),t._v(" "),s("p",[t._v("简单规则如下："),s("a",{attrs:{href:"https://www.webpackjs.com/configuration/output/#output-path",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("output.path")]),s("OutboundLink")],1),t._v(" 中的 URL 以 HTML 页面为基准。")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"public/assets"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("publicPath")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://cdn.example.com/assets/"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("对于这个配置：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("publicPath")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/assets/"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("chunkFilename")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[id].chunk.js"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("对于一个 chunk 请求，看起来像这样 "),s("code",[t._v("/assets/4.chunk.js")]),t._v("。")]),t._v(" "),s("p",[t._v("对于一个输出 HTML 的 loader 可能会像这样输出：")]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/assets/spinner.gif"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("或者在加载 "),s("code",[t._v("CSS")]),t._v(" 的一个图片时：")]),t._v(" "),s("div",{staticClass:"language-css line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token url"}},[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("/assets/spinner.gif"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("code",[t._v("webpack-dev-server")]),t._v(" 也会默认从 "),s("code",[t._v("publicPath")]),t._v(" 为基准，使用它来决定在哪个目录下启用服务，来访问 "),s("code",[t._v("webpack")]),t._v(" 输出的文件。")]),t._v(" "),s("p",[t._v("注意，参数中的 "),s("code",[t._v("[hash]")]),t._v(" 将会被替换为编译过程(compilation) 的 hash。详细信息请查看"),s("a",{attrs:{href:"https://www.webpackjs.com/guides/caching",target:"_blank",rel:"noopener noreferrer"}},[t._v("指南 - 缓存"),s("OutboundLink")],1),t._v("。")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("publicPath")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://cdn.example.com/assets/"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// CDN（总是 HTTPS 协议）")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("publicPath")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"//cdn.example.com/assets/"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// CDN (协议相同)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("publicPath")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/assets/"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 相对于服务(server-relative)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("publicPath")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"assets/"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 相对于 HTML 页面")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("publicPath")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../assets/"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 相对于 HTML 页面")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("publicPath")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 相对于 HTML 页面（目录相同）")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[t._v("在编译时(compile time)无法知道输出文件的 "),s("code",[t._v("publicPath")]),t._v(" 的情况下，可以留空，然后在入口文件(entry file)处使用"),s("a",{attrs:{href:"https://stackoverflow.com/questions/12934929/what-are-free-variables",target:"_blank",rel:"noopener noreferrer"}},[t._v("自由变量(free variable)"),s("OutboundLink")],1),t._v(" "),s("code",[t._v("__webpack_public_path__")]),t._v("，以便在运行时(runtime)进行动态设置。")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v(" __webpack_public_path__ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" myRuntimePublicPath\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 应用程序入口的其他部分")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("有关 "),s("code",[t._v("__webpack_public_path__")]),t._v(" 的更多信息，请查看"),s("a",{attrs:{href:"https://github.com/webpack/webpack/issues/2776#issuecomment-233208623",target:"_blank",rel:"noopener noreferrer"}},[t._v("此讨论"),s("OutboundLink")],1),t._v("。")]),t._v(" "),s("h2",{attrs:{id:"output-sourcemapfilename"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-sourcemapfilename"}},[t._v("#")]),t._v(" "),s("code",[t._v("output.sourceMapFilename")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("type")]),t._v(": "),s("code",[t._v("string")])])]),t._v(" "),s("p",[t._v("此选项会向硬盘写入一个输出文件，只在 "),s("a",{attrs:{href:"https://www.webpackjs.com/configuration/devtool",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("devtool")]),s("OutboundLink")],1),t._v(" 启用了 "),s("code",[t._v("SourceMap")]),t._v(" 选项时才使用。")]),t._v(" "),s("p",[t._v("配置 source map 的命名方式。默认使用 "),s("code",[t._v('"[file].map"')]),t._v("。")]),t._v(" "),s("p",[t._v("可以使用 "),s("a",{attrs:{href:"https://www.webpackjs.com/configuration/output/#output-filename",target:"_blank",rel:"noopener noreferrer"}},[t._v("#output-filename"),s("OutboundLink")],1),t._v(" 中的 "),s("code",[t._v("[name]")]),t._v(", "),s("code",[t._v("[id]")]),t._v(", "),s("code",[t._v("[hash]")]),t._v(" 和 "),s("code",[t._v("[chunkhash]")]),t._v(" 替换符号。除此之外，还可以使用以下替换符号。"),s("code",[t._v("[file]")]),t._v(" 占位符会被替换为原始文件的文件名。我们建议"),s("strong",[t._v("只使用 "),s("code",[t._v("[file]")]),t._v(" 占位符")]),t._v("，因为其他占位符在非 chunk 文件(non-chunk files)生成的 "),s("code",[t._v("SourceMap")]),t._v(" 时不起作用。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("模板")]),t._v(" "),s("th",[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("[file]")]),t._v(" "),s("td",[t._v("模块文件名称")])]),t._v(" "),s("tr",[s("td",[t._v("["),s("code",[t._v("filebase")]),t._v("]")]),t._v(" "),s("td",[t._v("模块 "),s("a",{attrs:{href:"https://nodejs.org/api/path.html#path_path_basename_path_ext",target:"_blank",rel:"noopener noreferrer"}},[t._v("basename"),s("OutboundLink")],1)])])])]),t._v(" "),s("h2",{attrs:{id:"output-sourceprefix"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-sourceprefix"}},[t._v("#")]),t._v(" "),s("code",[t._v("output.sourcePrefix")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("type")]),t._v(": "),s("code",[t._v("string")])])]),t._v(" "),s("p",[t._v("修改输出 bundle 中每行的前缀。")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("sourcePrefix")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\t"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("注意，默认情况下使用空字符串。使用一些缩进会看起来更美观，但是可能导致多行字符串中的问题。")]),t._v(" "),s("p",[t._v("这里没有必要修改它。")]),t._v(" "),s("h2",{attrs:{id:"output-strictmoduleexceptionhandling"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-strictmoduleexceptionhandling"}},[t._v("#")]),t._v(" "),s("code",[t._v("output.strictModuleExceptionHandling")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("type")]),t._v(": "),s("code",[t._v("boolean")])])]),t._v(" "),s("p",[t._v("如果一个模块是在 "),s("code",[t._v("require")]),t._v(" 时抛出异常，告诉 "),s("code",[t._v("webpack")]),t._v(" 从模块实例缓存("),s("code",[t._v("require.cache")]),t._v(")中删除这个模块。")]),t._v(" "),s("p",[t._v("出于性能原因，默认为 "),s("code",[t._v("false")]),t._v("。")]),t._v(" "),s("p",[t._v("当设置为 "),s("code",[t._v("false")]),t._v(" 时，该模块不会从缓存中删除，这将造成仅在第一次 "),s("code",[t._v("require")]),t._v(" 调用时抛出异常（会导致与 "),s("code",[t._v("node.js")]),t._v(" 不兼容）。")]),t._v(" "),s("p",[t._v("例如，设想一下 "),s("code",[t._v("module.js")]),t._v("：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"error"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("将 "),s("code",[t._v("strictModuleExceptionHandling")]),t._v(" 设置为 "),s("code",[t._v("false")]),t._v("，只有第一个 "),s("code",[t._v("require")]),t._v(" 抛出异常：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// with strictModuleExceptionHandling = false")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"module"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// <- 抛出")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"module"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// <- 不抛出")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("相反，将 "),s("code",[t._v("strictModuleExceptionHandling")]),t._v(" 设置为 "),s("code",[t._v("true")]),t._v("，这个模块所有的 "),s("code",[t._v("require")]),t._v(" 都抛出异常：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// with strictModuleExceptionHandling = true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"module"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// <- 抛出")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"module"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// <- 仍然抛出")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h2",{attrs:{id:"output-umdnameddefine"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#output-umdnameddefine"}},[t._v("#")]),t._v(" "),s("code",[t._v("output.umdNamedDefine")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("type")]),t._v(": "),s("code",[t._v("boolean")])])]),t._v(" "),s("p",[t._v("当使用了 "),s("code",[t._v('libraryTarget: "umd"')]),t._v("，设置：")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("umdNamedDefine")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("会对 "),s("code",[t._v("UMD")]),t._v(" 的构建过程中的 "),s("code",[t._v("AMD")]),t._v(" 模块进行命名。否则就使用匿名的 "),s("code",[t._v("define")]),t._v("。")])])}),[],!1,null,null,null);s.default=n.exports}}]);