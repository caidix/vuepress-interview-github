(window.webpackJsonp=window.webpackJsonp||[]).push([[201],{521:function(t,s,a){"use strict";a.r(s);var n=a(1),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"数字类型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数字类型"}},[t._v("#")]),t._v(" 数字类型")]),t._v(" "),s("p",[t._v("在现代 "),s("code",[t._v("JavaScript")]),t._v(" 中，数字（"),s("code",[t._v("number")]),t._v("）有两种类型：")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("JavaScript")]),t._v(" 中的常规数字以 "),s("code",[t._v("64")]),t._v(" 位的格式 "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/IEEE_754-2008_revision",target:"_blank",rel:"noopener noreferrer"}},[t._v("IEEE-754"),s("OutboundLink")],1),t._v(" 存储，也被称为“双精度浮点数”。这是我们大多数时候所使用的数字。")]),t._v(" "),s("li",[s("code",[t._v("BigInt")]),t._v(" 数字，用于表示任意长度的整数。有时会需要它们，因为常规数字不能超过 "),s("code",[t._v("253")]),t._v(" 或小于 "),s("code",[t._v("-253")]),t._v("。由于仅在少数特殊领域才会用到 "),s("code",[t._v("BigInt")]),t._v("。")])]),t._v(" "),s("h2",{attrs:{id:"编写数字的更多方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编写数字的更多方法"}},[t._v("#")]),t._v(" 编写数字的更多方法")]),t._v(" "),s("p",[t._v("想象一下，我们需要写 10 亿。显然的方法是：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" billion "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000000000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("但在现实生活中，我们通常避免写一长串零，因为它很容易打错。另外，我们很懒。我们通常会将 "),s("code",[t._v("10")]),t._v(" 亿写成 "),s("code",[t._v('"1bn"')]),t._v("，或将 "),s("code",[t._v("73")]),t._v(" 亿写成 "),s("code",[t._v('"7.3bn"')]),t._v("。对于大多数大的数字来说都是如此。")]),t._v(" "),s("p",[t._v("在 JavaScript 中，我们通过在数字后附加字母 “e”，并指定零的数量来缩短数字：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" billion "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1e9")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 10 亿，字面意思：数字 1 后面跟 9 个 0")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.3e9")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 73 亿（7,300,000,000）")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("换句话说，"),s("code",[t._v('"e"')]),t._v(" 把数字乘以 "),s("code",[t._v("1")]),t._v(" 后面跟着给定数量的 0 的数字。")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1e3")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.23e6")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.23")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000000")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("现在让我们写一些非常小的数字。例如，"),s("code",[t._v("1")]),t._v("微秒（百万分之一秒）：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" ms "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.000001")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("就像以前一样，可以使用 "),s("code",[t._v('"e"')]),t._v(" 来完成。如果我们想避免显式地写零，我们可以这样写：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" ms "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1e-6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1 的左边有 6 个 0")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("如果我们数一下 "),s("code",[t._v("0.000001")]),t._v(" 中的 0 的个数，是 6 个。所以自然是 "),s("code",[t._v("1e-6")]),t._v("。")]),t._v(" "),s("p",[t._v("换句话说，"),s("code",[t._v("e")]),t._v(" 后面的负数表示除以 1 后面跟着给定数量的 0 的数字：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -3 除以 1 后面跟着 3 个 0 的数字")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1e-3")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.001")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -6 除以 1 后面跟着 6 个 0 的数字")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.23e-6")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.23")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000000")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.00000123")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h3",{attrs:{id:"十六进制-二进制和八进制数字"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十六进制-二进制和八进制数字"}},[t._v("#")]),t._v(" 十六进制，二进制和八进制数字")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Hexadecimal",target:"_blank",rel:"noopener noreferrer"}},[t._v("十六进制"),s("OutboundLink")],1),t._v(" 数字在 "),s("code",[t._v("JavaScript")]),t._v(" 中被广泛用于表示颜色，编码字符以及其他许多东西。所以自然地，有一种较短的写方法："),s("code",[t._v("0x")]),t._v("，然后是数字。")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xff")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 255")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0xFF")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 255（一样，大小写没影响）")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("二进制和八进制数字系统很少使用，但也支持使用 "),s("code",[t._v("0b")]),t._v(" 和 "),s("code",[t._v("0o")]),t._v(" 前缀：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0b11111111")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 二进制形式的 255")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" b "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0o377")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 八进制形式的 255")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" b "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true，两边是相同的数字，都是 255")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("只有这三种进制支持这种写法。对于其他进制，我们应该使用函数 "),s("code",[t._v("parseInt")]),t._v("（我们将在本章后面看到）。")]),t._v(" "),s("h2",{attrs:{id:"tostring-base"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tostring-base"}},[t._v("#")]),t._v(" "),s("code",[t._v("toString(base)")])]),t._v(" "),s("p",[t._v("方法 "),s("code",[t._v("num.toString(base)")]),t._v(" 返回在给定 "),s("code",[t._v("base")]),t._v(" 进制数字系统中 "),s("code",[t._v("num")]),t._v(" 的字符串表示形式。")]),t._v(" "),s("p",[t._v("举个例子：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" num "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("255")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" num"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ff")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" num"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 11111111")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[s("code",[t._v("base")]),t._v(" 的范围可以从 "),s("code",[t._v("2")]),t._v(" 到 "),s("code",[t._v("36")]),t._v("。默认情况下是 "),s("code",[t._v("10")]),t._v("。")]),t._v(" "),s("p",[t._v("常见的用例如下：")]),t._v(" "),s("ul",[s("li",[s("p",[s("strong",[t._v("base=16")]),t._v(" 用于十六进制颜色，字符编码等，数字可以是 "),s("code",[t._v("0..9")]),t._v(" 或 "),s("code",[t._v("A..F")]),t._v("。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("base=2")]),t._v(" 主要用于调试按位操作，数字可以是 "),s("code",[t._v("0")]),t._v(" 或 "),s("code",[t._v("1")]),t._v("。")])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("base=36")]),t._v(" 是最大进制，数字可以是 "),s("code",[t._v("0..9")]),t._v(" 或 "),s("code",[t._v("A..Z")]),t._v("。所有拉丁字母都被用于了表示数字。对于 "),s("code",[t._v("36")]),t._v(" 进制来说，一个有趣且有用的例子是，当我们需要将一个较长的数字标识符转换成较短的时候，例如做一个短的 URL。可以简单地使用基数为 "),s("code",[t._v("36")]),t._v(" 的数字系统表示：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("123456.")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("36")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2n9c")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])])]),t._v(" "),s("blockquote",[s("p",[s("strong",[t._v("使用两个点来调用一个方法")])]),t._v(" "),s("p",[t._v("请注意 "),s("code",[t._v("123456..toString(36)")]),t._v(" 中的两个点不是打错了。如果我们想直接在一个数字上调用一个方法，比如上面例子中的 "),s("code",[t._v("toString")]),t._v("，那么我们需要在它后面放置两个点 "),s("code",[t._v("..")]),t._v("。")]),t._v(" "),s("p",[t._v("如果我们放置一个点："),s("code",[t._v("123456.toString(36)")]),t._v("，那么就会出现一个 error，因为 JavaScript 语法隐含了第一个点之后的部分为小数部分。如果我们再放一个点，那么 JavaScript 就知道小数部分为空，现在使用该方法。")]),t._v(" "),s("p",[t._v("也可以写成 "),s("code",[t._v("(123456).toString(36)")]),t._v("。")])]),t._v(" "),s("h2",{attrs:{id:"舍入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#舍入"}},[t._v("#")]),t._v(" 舍入")]),t._v(" "),s("p",[t._v("舍入（rounding）是使用数字时最常用的操作之一。")]),t._v(" "),s("p",[t._v("这里有几个对数字进行舍入的内建函数：")]),t._v(" "),s("ul",[s("li",[s("p",[s("code",[t._v("Math.floor")])]),t._v(" "),s("p",[t._v("向下舍入："),s("code",[t._v("3.1")]),t._v(" 变成 "),s("code",[t._v("3")]),t._v("，"),s("code",[t._v("-1.1")]),t._v(" 变成 "),s("code",[t._v("-2")]),t._v("。")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("Math.ceil")])]),t._v(" "),s("p",[t._v("向上舍入："),s("code",[t._v("3.1")]),t._v(" 变成 "),s("code",[t._v("4")]),t._v("，"),s("code",[t._v("-1.1")]),t._v(" 变成 "),s("code",[t._v("-1")]),t._v("。")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("Math.round")])]),t._v(" "),s("p",[t._v("向最近的整数舍入："),s("code",[t._v("3.1")]),t._v(" 变成 "),s("code",[t._v("3")]),t._v("，"),s("code",[t._v("3.6")]),t._v(" 变成 "),s("code",[t._v("4")]),t._v("，"),s("code",[t._v("-1.1")]),t._v(" 变成 "),s("code",[t._v("-1")]),t._v("。")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("Math.trunc")]),t._v("（IE 浏览器不支持这个方法）")]),t._v(" "),s("p",[t._v("移除小数点后的所有内容而没有舍入："),s("code",[t._v("3.1")]),t._v(" 变成 "),s("code",[t._v("3")]),t._v("，"),s("code",[t._v("-1.1")]),t._v(" 变成 "),s("code",[t._v("-1")]),t._v("。")])])]),t._v(" "),s("p",[t._v("这个是总结它们之间差异的表格：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://picgoi-mg.oss-cn-beijing.aliyuncs.com/img/20201211111935.png",alt:""}})]),t._v(" "),s("p",[t._v("这些函数涵盖了处理数字小数部分的所有可能方法。但是，如果我们想将数字舍入到小数点后 "),s("code",[t._v("n")]),t._v(" 位，该怎么办？")]),t._v(" "),s("p",[t._v("例如，我们有 "),s("code",[t._v("1.2345")]),t._v("，并且想把它舍入到小数点后两位，仅得到 "),s("code",[t._v("1.23")]),t._v("。")]),t._v(" "),s("p",[t._v("有两种方式可以实现这个需求：")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("乘除法")]),t._v(" "),s("p",[t._v("例如，要将数字舍入到小数点后两位，我们可以将数字乘以 "),s("code",[t._v("100")]),t._v("（或更大的 10 的整数次幂），调用舍入函数，然后再将其除回。")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" num "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.23456")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" Math"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("floor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("num "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1.23456 -> 123.456 -> 123 -> 1.23")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("函数 "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toFixed",target:"_blank",rel:"noopener noreferrer"}},[t._v("toFixed(n)"),s("OutboundLink")],1),t._v(" 将数字舍入到小数点后 "),s("code",[t._v("n")]),t._v(" 位，并以字符串形式返回结果。")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" num "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12.34")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" num"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toFixed")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "12.3"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("这会向上或向下舍入到最接近的值，类似于 "),s("code",[t._v("Math.round")]),t._v("：")])]),t._v(" "),s("li",[s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" num "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12.36")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" num"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toFixed")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "12.4"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("请注意 "),s("code",[t._v("toFixed")]),t._v(" 的结果是一个字符串。如果小数部分比所需要的短，则在结尾添加零：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" num "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12.34")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" num"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toFixed")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "12.34000"，在结尾添加了 0，以达到小数点后五位')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("我们可以使用一元加号或 "),s("code",[t._v("Number()")]),t._v(" 调用，将其转换为数字："),s("code",[t._v("+ num.toFixed(5)")]),t._v("。")])])]),t._v(" "),s("h2",{attrs:{id:"不精确的计算"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#不精确的计算"}},[t._v("#")]),t._v(" 不精确的计算")]),t._v(" "),s("p",[t._v("在内部，数字是以 64 位格式 "),s("a",{attrs:{href:"http://en.wikipedia.org/wiki/IEEE_754-1985",target:"_blank",rel:"noopener noreferrer"}},[t._v("IEEE-754"),s("OutboundLink")],1),t._v(" 表示的，所以正好有 64 位可以存储一个数字：其中 52 位被用于存储这些数字，其中 11 位用于存储小数点的位置（对于整数，它们为零），而 1 位用于符号。")]),t._v(" "),s("p",[t._v("如果一个数字太大，则会溢出 64 位存储，并可能会导致无穷大：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1e500")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Infinity")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("这可能不那么明显，但经常会发生的是，精度的损失。")]),t._v(" "),s("p",[t._v("考虑下这个（"),s("code",[t._v("falsy")]),t._v("！）测试：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.3")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("没错，如果我们检查 "),s("code",[t._v("0.1")]),t._v(" 和 "),s("code",[t._v("0.2")]),t._v(" 的总和是否为 "),s("code",[t._v("0.3")]),t._v("，我们会得到 "),s("code",[t._v("false")]),t._v("。")]),t._v(" "),s("p",[t._v("奇了怪了！如果不是 "),s("code",[t._v("0.3")]),t._v("，那能是啥？")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 0.30000000000000004")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("哎哟！这个错误比不正确的比较的后果更严重。想象一下，你创建了一个电子购物网站，如果访问者将价格为 "),s("code",[t._v("¥ 0.10")]),t._v(" 和 "),s("code",[t._v("¥ 0.20")]),t._v(" 的商品放入了他的购物车。订单总额将是 "),s("code",[t._v("¥ 0.30000000000000004")]),t._v("。这会让任何人感到惊讶。")]),t._v(" "),s("p",[t._v("但为什么会这样呢？")]),t._v(" "),s("p",[t._v("一个数字以其二进制的形式存储在内存中，一个 1 和 0 的序列。但是在十进制数字系统中看起来很简单的 "),s("code",[t._v("0.1")]),t._v("，"),s("code",[t._v("0.2")]),t._v(" 这样的小数，实际上在二进制形式中是无限循环小数。")]),t._v(" "),s("p",[t._v("换句话说，什么是 "),s("code",[t._v("0.1")]),t._v("？"),s("code",[t._v("0.1")]),t._v(" 就是 "),s("code",[t._v("1")]),t._v(" 除以 "),s("code",[t._v("10")]),t._v("，"),s("code",[t._v("1/10")]),t._v("，即十分之一。在十进制数字系统中，这样的数字表示起来很容易。将其与三分之一进行比较："),s("code",[t._v("1/3")]),t._v("。三分之一变成了无限循环小数 "),s("code",[t._v("0.33333(3)")]),t._v("。")]),t._v(" "),s("p",[t._v("在十进制数字系统中，可以保证以 "),s("code",[t._v("10")]),t._v(" 的整数次幂作为除数能够正常工作，但是以 "),s("code",[t._v("3")]),t._v(" 作为除数则不能。也是同样的原因，在二进制数字系统中，可以保证以 "),s("code",[t._v("2")]),t._v(" 的整数次幂作为除数时能够正常工作，但 "),s("code",[t._v("1/10")]),t._v(" 就变成了一个无限循环的二进制小数。")]),t._v(" "),s("p",[t._v("使用二进制数字系统无法 "),s("strong",[t._v("精确")]),t._v(" 存储 "),s("em",[t._v("0.1")]),t._v(" 或 "),s("em",[t._v("0.2")]),t._v("，就像没有办法将三分之一存储为十进制小数一样。")]),t._v(" "),s("p",[t._v("IEEE-754 数字格式通过将数字舍入到最接近的可能数字来解决此问题。这些舍入规则通常不允许我们看到“极小的精度损失”，但是它确实存在。")]),t._v(" "),s("p",[t._v("我们可以看到：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toFixed")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 0.10000000000000000555")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("当我们对两个数字进行求和时，它们的“精度损失”会叠加起来。")]),t._v(" "),s("p",[t._v("这就是为什么 "),s("code",[t._v("0.1 + 0.2")]),t._v(" 不等于 "),s("code",[t._v("0.3")]),t._v("。")]),t._v(" "),s("blockquote",[s("p",[s("strong",[t._v("不仅仅是 JavaScript")])]),t._v(" "),s("p",[t._v("许多其他编程语言也存在同样的问题。")]),t._v(" "),s("p",[s("code",[t._v("PHP")]),t._v("，"),s("code",[t._v("Java")]),t._v("，"),s("code",[t._v("C")]),t._v("，"),s("code",[t._v("Perl")]),t._v("，"),s("code",[t._v("Ruby")]),t._v(" 给出的也是完全相同的结果，因为它们基于的是相同的数字格式。")])]),t._v(" "),s("p",[t._v("我们能解决这个问题吗？当然，最可靠的方法是借助方法 "),s("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toFixed",target:"_blank",rel:"noopener noreferrer"}},[t._v("toFixed(n)"),s("OutboundLink")],1),t._v(" 对结果进行舍入：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" sum "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" sum"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toFixed")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 0.30")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("请注意，"),s("code",[t._v("toFixed")]),t._v(" 总是返回一个字符串。它确保小数点后有 2 位数字。如果我们有一个电子购物网站，并需要显示 "),s("code",[t._v("¥ 0.30")]),t._v("，这实际上很方便。对于其他情况，我们可以使用一元加号将其强制转换为一个数字：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" sum "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("sum"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toFixed")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 0.3")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("我们可以将数字临时乘以 100（或更大的数字），将其转换为整数，进行数学运算，然后再除回。当我们使用整数进行数学运算时，误差会有所减少，但仍然可以在除法中得到：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 0.3")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.28")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.14")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 0.4200000000000001")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("因此，乘/除法可以减少误差，但不能完全消除误差。")]),t._v(" "),s("p",[t._v("有时候我们可以尝试完全避免小数。例如，我们正在创建一个电子购物网站，那么我们可以用角而不是元来存储价格。但是，如果我们要打 30% 的折扣呢？实际上，完全避免小数处理几乎是不可能的。只需要在必要时剪掉其“尾巴”来对其进行舍入即可。")]),t._v(" "),s("blockquote",[s("p",[s("strong",[t._v("有趣的事儿")])]),t._v(" "),s("p",[t._v("尝试运行下面这段代码：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Hello！我是一个会自我增加的数字！")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9999999999999999")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 显示 10000000000000000")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("出现了同样的问题：精度损失。有 64 位来表示该数字，其中 52 位可用于存储数字，但这还不够。所以最不重要的数字就消失了。")]),t._v(" "),s("p",[t._v("JavaScript 不会在此类事件中触发 error。它会尽最大努力使数字符合所需的格式，但不幸的是，这种格式不够大到满足需求。")])]),t._v(" "),s("blockquote",[s("p",[s("strong",[t._v("两个零")])]),t._v(" "),s("p",[t._v("数字内部表示的另一个有趣结果是存在两个零："),s("code",[t._v("0")]),t._v(" 和 "),s("code",[t._v("-0")]),t._v("。")]),t._v(" "),s("p",[t._v("这是因为在存储时，使用一位来存储符号，因此对于包括零在内的任何数字，可以设置这一位或者不设置。")]),t._v(" "),s("p",[t._v("在大多数情况下，这种区别并不明显，因为运算符将它们视为相同的值。")])]),t._v(" "),s("h2",{attrs:{id:"测试-isfinite-和-isnan"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#测试-isfinite-和-isnan"}},[t._v("#")]),t._v(" 测试："),s("code",[t._v("isFinite")]),t._v(" 和 "),s("code",[t._v("isNaN")])]),t._v(" "),s("p",[t._v("还记得这两个特殊的数值吗？")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Infinity")]),t._v("（和 "),s("code",[t._v("-Infinity")]),t._v("）是一个特殊的数值，比任何数值都大（小）。")]),t._v(" "),s("li",[s("code",[t._v("NaN")]),t._v(" 代表一个 error。")])]),t._v(" "),s("p",[t._v("它们属于 "),s("code",[t._v("number")]),t._v(" 类型，但不是“普通”数字，因此，这里有用于检查它们的特殊函数：")]),t._v(" "),s("ul",[s("li",[s("p",[s("code",[t._v("isNaN(value)")]),t._v(" 将其参数转换为数字，然后测试它是否为 "),s("code",[t._v("NaN")]),t._v("：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isNaN")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("NaN")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isNaN")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"str"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("但是我们需要这个函数吗？我们不能只使用 "),s("code",[t._v("=== NaN")]),t._v(" 比较吗？不好意思，这不行。值 “NaN” 是独一无二的，它不等于任何东西，包括它自身：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("NaN")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("NaN")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("isFinite(value)")]),t._v(" 将其参数转换为数字，如果是常规数字，则返回 "),s("code",[t._v("true")]),t._v("，而不是 "),s("code",[t._v("NaN/Infinity/-Infinity")]),t._v("：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isFinite")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"15"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isFinite")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"str"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false，因为是一个特殊的值：NaN")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isFinite")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("Infinity")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false，因为是一个特殊的值：Infinity")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])])])]),t._v(" "),s("p",[t._v("有时 "),s("code",[t._v("isFinite")]),t._v(" 被用于验证字符串值是否为常规数字：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" num "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("prompt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Enter a number"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 结果会是 true，除非你输入的是 Infinity、-Infinity 或不是数字")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isFinite")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("num"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("请注意，在所有数字函数中，包括 "),s("code",[t._v("isFinite")]),t._v("，空字符串或仅有空格的字符串均被视为 "),s("code",[t._v("0")]),t._v("。")]),t._v(" "),s("blockquote",[s("p",[s("strong",[t._v("与 "),s("code",[t._v("Object.is")]),t._v(" 进行比较")])]),t._v(" "),s("p",[t._v("有一个特殊的内建方法 "),s("a",{attrs:{href:"https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/is",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("Object.is")]),s("OutboundLink")],1),t._v("，它类似于 "),s("code",[t._v("===")]),t._v(" 一样对值进行比较，但它对于两种边缘情况更可靠：")]),t._v(" "),s("ol",[s("li",[t._v("它适用于 "),s("code",[t._v("NaN")]),t._v("："),s("code",[t._v("Object.is（NaN，NaN）=== true")]),t._v("，这是件好事。")]),t._v(" "),s("li",[t._v("值 "),s("code",[t._v("0")]),t._v(" 和 "),s("code",[t._v("-0")]),t._v(" 是不同的："),s("code",[t._v("Object.is（0，-0）=== false")]),t._v("，从技术上讲这是对的，因为在内部，数字的符号位可能会不同，即使其他所有位均为零。")])]),t._v(" "),s("p",[t._v("在所有其他情况下，"),s("code",[t._v("Object.is(a，b)")]),t._v(" 与 "),s("code",[t._v("a === b")]),t._v(" 相同。")]),t._v(" "),s("p",[t._v("这种比较方式经常被用在 JavaScript 规范中。当内部算法需要比较两个值是否完全相同时，它使用 "),s("code",[t._v("Object.is")]),t._v("（内部称为 "),s("a",{attrs:{href:"https://tc39.github.io/ecma262/#sec-samevalue",target:"_blank",rel:"noopener noreferrer"}},[t._v("SameValue"),s("OutboundLink")],1),t._v("）。")])]),t._v(" "),s("h2",{attrs:{id:"parseint-和-parsefloat"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#parseint-和-parsefloat"}},[t._v("#")]),t._v(" "),s("code",[t._v("parseInt")]),t._v(" 和 "),s("code",[t._v("parseFloat")])]),t._v(" "),s("p",[t._v("使用加号 "),s("code",[t._v("+")]),t._v(" 或 "),s("code",[t._v("Number()")]),t._v(" 的数字转换是严格的。如果一个值不完全是一个数字，就会失败：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"100px"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// NaN")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("唯一的例外是字符串开头或结尾的空格，因为它们会被忽略。")]),t._v(" "),s("p",[t._v("但在现实生活中，我们经常会有带有单位的值，例如 CSS 中的 "),s("code",[t._v('"100px"')]),t._v(" 或 "),s("code",[t._v('"12pt"')]),t._v("。并且，在很多国家，货币符号是紧随金额之后的，所以我们有 "),s("code",[t._v('"19€"')]),t._v("，并希望从中提取出一个数值。")]),t._v(" "),s("p",[t._v("这就是 "),s("code",[t._v("parseInt")]),t._v(" 和 "),s("code",[t._v("parseFloat")]),t._v(" 的作用。")]),t._v(" "),s("p",[t._v("它们可以从字符串中“读取”数字，直到无法读取为止。如果发生 error，则返回收集到的数字。函数 "),s("code",[t._v("parseInt")]),t._v(" 返回一个整数，而 "),s("code",[t._v("parseFloat")]),t._v(" 返回一个浮点数：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseInt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'100px'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 100")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseFloat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'12.5em'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 12.5")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseInt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'12.3'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 12，只有整数部分被返回了")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseFloat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'12.3.4'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 12.3，在第二个点出停止了读取")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("某些情况下，"),s("code",[t._v("parseInt/parseFloat")]),t._v(" 会返回 "),s("code",[t._v("NaN")]),t._v("。当没有数字可读时会发生这种情况：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseInt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a123'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// NaN，第一个符号停止了读取")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("blockquote",[s("p",[s("strong",[s("code",[t._v("parseInt(str, radix)")]),t._v(" 的第二个参数")])]),t._v(" "),s("p",[s("code",[t._v("parseInt()")]),t._v(" 函数具有可选的第二个参数。它指定了数字系统的基数，因此 "),s("code",[t._v("parseInt")]),t._v(" 还可以解析十六进制数字、二进制数字等的字符串：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseInt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0xff'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 255")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseInt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ff'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 255，没有 0x 仍然有效")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseInt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2n9c'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("36")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 123456")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])])]),t._v(" "),s("h2",{attrs:{id:"其他数学函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#其他数学函数"}},[t._v("#")]),t._v(" 其他数学函数")]),t._v(" "),s("p",[t._v("JavaScript 有一个内建的 "),s("a",{attrs:{href:"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math",target:"_blank",rel:"noopener noreferrer"}},[t._v("Math"),s("OutboundLink")],1),t._v(" 对象，它包含了一个小型的数学函数和常量库。")]),t._v(" "),s("p",[t._v("几个例子：")]),t._v(" "),s("ul",[s("li",[s("p",[s("code",[t._v("Math.random()")])]),t._v(" "),s("p",[t._v("返回一个从 0 到 1 的随机数（不包括 1）"),s("code",[t._v("alert( Math.random() ); // 0.1234567894322 alert( Math.random() ); // 0.5435252343232 alert( Math.random() ); // ... (任何随机数)")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("Math.max(a, b, c...)")]),t._v(" / "),s("code",[t._v("Math.min(a, b, c...)")])]),t._v(" "),s("p",[t._v("从任意数量的参数中返回最大/最小值。"),s("code",[t._v("alert( Math.max(3, 5, -10, 0, 1) ); // 5 alert( Math.min(1, 2) ); // 1")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("Math.pow(n, power)")])]),t._v(" "),s("p",[t._v("返回 "),s("code",[t._v("n")]),t._v(" 的给定（power）次幂"),s("code",[t._v("alert( Math.pow(2, 10) ); // 2 的 10 次幂 = 1024")])])])]),t._v(" "),s("p",[s("code",[t._v("Math")]),t._v(" 对象中还有更多函数和常量，包括三角函数，你可以在 "),s("a",{attrs:{href:"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math",target:"_blank",rel:"noopener noreferrer"}},[t._v("Math 对象文档"),s("OutboundLink")],1),t._v(" 中找到这些内容。")]),t._v(" "),s("h2",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),s("p",[t._v("要写有很多零的数字：")]),t._v(" "),s("ul",[s("li",[t._v("将 "),s("code",[t._v('"e"')]),t._v(" 和 0 的数量附加到数字后。就像："),s("code",[t._v("123e6")]),t._v(" 与 "),s("code",[t._v("123")]),t._v(" 后面接 6 个 0 相同。")]),t._v(" "),s("li",[s("code",[t._v('"e"')]),t._v(" 后面的负数将使数字除以 1 后面接着给定数量的零的数字。例如 "),s("code",[t._v("123e-6")]),t._v(" 表示 "),s("code",[t._v("0.000123")]),t._v("（"),s("code",[t._v("123")]),t._v(" 的百万分之一）。")])]),t._v(" "),s("p",[t._v("对于不同的数字系统：")]),t._v(" "),s("ul",[s("li",[t._v("可以直接在十六进制（"),s("code",[t._v("0x")]),t._v("），八进制（"),s("code",[t._v("0o")]),t._v("）和二进制（"),s("code",[t._v("0b")]),t._v("）系统中写入数字。")]),t._v(" "),s("li",[s("code",[t._v("parseInt(str，base)")]),t._v(" 将字符串 "),s("code",[t._v("str")]),t._v(" 解析为在给定的 "),s("code",[t._v("base")]),t._v(" 数字系统中的整数，"),s("code",[t._v("2 ≤ base ≤ 36")]),t._v("。")]),t._v(" "),s("li",[s("code",[t._v("num.toString(base)")]),t._v(" 将数字转换为在给定的 "),s("code",[t._v("base")]),t._v(" 数字系统中的字符串。")])]),t._v(" "),s("p",[t._v("要将 "),s("code",[t._v("12pt")]),t._v(" 和 "),s("code",[t._v("100px")]),t._v(" 之类的值转换为数字：")]),t._v(" "),s("ul",[s("li",[t._v("使用 "),s("code",[t._v("parseInt/parseFloat")]),t._v(" 进行“软”转换，它从字符串中读取数字，然后返回在发生 error 前可以读取到的值。")])]),t._v(" "),s("p",[t._v("小数：")]),t._v(" "),s("ul",[s("li",[t._v("使用 "),s("code",[t._v("Math.floor")]),t._v("，"),s("code",[t._v("Math.ceil")]),t._v("，"),s("code",[t._v("Math.trunc")]),t._v("，"),s("code",[t._v("Math.round")]),t._v(" 或 "),s("code",[t._v("num.toFixed(precision)")]),t._v(" 进行舍入。")]),t._v(" "),s("li",[t._v("请确保记住使用小数时会损失精度。")])]),t._v(" "),s("p",[t._v("更多数学函数：")]),t._v(" "),s("ul",[s("li",[t._v("需要时请查看 "),s("a",{attrs:{href:"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Math",target:"_blank",rel:"noopener noreferrer"}},[t._v("Math"),s("OutboundLink")],1),t._v(" 对象。这个库很小，但是可以满足基本的需求。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);