(window.webpackJsonp=window.webpackJsonp||[]).push([[158],{475:function(e,t,r){"use strict";r.r(t);var o=r(1),a=Object(o.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("p",[e._v("这些选项可以配置是否 polyfill 或 mock 某些 "),t("a",{attrs:{href:"https://nodejs.org/docs/latest/api/globals.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Node.js 全局变量"),t("OutboundLink")],1),e._v("和模块。这可以使最初为 Node.js 环境编写的代码，在其他环境（如浏览器）中运行。")]),e._v(" "),t("p",[e._v("此功能由 webpack 内部的 "),t("a",{attrs:{href:"https://github.com/webpack/webpack/blob/master/lib/NodeStuffPlugin.js",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("NodeStuffPlugin")]),t("OutboundLink")],1),e._v(' 插件提供。如果 target 是 "web"（默认）或 "webworker"，那么 '),t("a",{attrs:{href:"https://github.com/webpack/webpack/blob/master/lib/node/NodeSourcePlugin.js",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("NodeSourcePlugin")]),t("OutboundLink")],1),e._v(" 插件也会被激活。")]),e._v(" "),t("h2",{attrs:{id:"node"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node"}},[e._v("#")]),e._v(" "),t("code",[e._v("node")])]),e._v(" "),t("blockquote",[t("p",[t("code",[e._v("type")]),e._v(": "),t("code",[e._v("object")])])]),e._v(" "),t("p",[e._v("是一个对象，其中每个属性都是 Node.js 全局变量或模块的名称，每个 value 是以下其中之一……")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("true")]),e._v("：提供 polyfill。")]),e._v(" "),t("li",[t("code",[e._v('"mock"')]),e._v("：提供 mock 实现预期接口，但功能很少或没有。")]),e._v(" "),t("li",[t("code",[e._v('"empty"')]),e._v("：提供空对象。")]),e._v(" "),t("li",[t("code",[e._v("false")]),e._v(": 什么都不提供。预期获取此对象的代码，可能会因为获取不到此对象，触发 "),t("code",[e._v("ReferenceError")]),e._v(" 而崩溃。尝试使用 "),t("code",[e._v("require('modulename')")]),e._v(" 导入模块的代码，可能会触发 "),t("code",[e._v('Cannot find module "modulename"')]),e._v(" 错误。")])]),e._v(" "),t("blockquote",[t("p",[e._v("注意，不是每个 Node 全局变量都支持所有选项。对于不支持的键值组合(property-value combination)，compiler 会抛出错误。更多细节请查看接下来的章节。")])]),e._v(" "),t("p",[e._v("这里是默认值：")]),e._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("node")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("console")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("global")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("process")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("__filename")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"mock"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("__dirname")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"mock"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("Buffer")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("setImmediate")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),e._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// 更多选项，请查看“其他 Node.js 核心库”")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br"),t("span",{staticClass:"line-number"},[e._v("7")]),t("br"),t("span",{staticClass:"line-number"},[e._v("8")]),t("br"),t("span",{staticClass:"line-number"},[e._v("9")]),t("br"),t("span",{staticClass:"line-number"},[e._v("10")]),t("br"),t("span",{staticClass:"line-number"},[e._v("11")]),t("br")])]),t("p",[e._v("从 webpack 3.0.0 开始，"),t("code",[e._v("node")]),e._v(" 选项可能被设置为 "),t("code",[e._v("false")]),e._v("，以完全关闭 "),t("code",[e._v("NodeStuffPlugin")]),e._v(" 和 "),t("code",[e._v("NodeSourcePlugin")]),e._v(" 插件。")]),e._v(" "),t("h2",{attrs:{id:"node-console"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-console"}},[e._v("#")]),e._v(" "),t("code",[e._v("node.console")])]),e._v(" "),t("blockquote",[t("p",[t("code",[e._v("type")]),e._v(": "),t("code",[e._v("boolean | 'mock'")])])]),e._v(" "),t("blockquote",[t("p",[e._v("默认值： "),t("code",[e._v("false")])])]),e._v(" "),t("p",[e._v("浏览器提供一个 "),t("code",[e._v("console")]),e._v(" 对象，具有非常类似 "),t("code",[e._v("Node.js")]),e._v(" "),t("code",[e._v("console")]),e._v(" 的接口，所以通常不需要 "),t("code",[e._v("polyfill")]),e._v("。")]),e._v(" "),t("h2",{attrs:{id:"node-process"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-process"}},[e._v("#")]),e._v(" "),t("code",[e._v("node.process")])]),e._v(" "),t("blockquote",[t("p",[t("code",[e._v("type")]),e._v(": "),t("code",[e._v('boolean | "mock"')])])]),e._v(" "),t("p",[e._v("默认值："),t("code",[e._v("true")])]),e._v(" "),t("h2",{attrs:{id:"node-global"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-global"}},[e._v("#")]),e._v(" "),t("code",[e._v("node.global")])]),e._v(" "),t("blockquote",[t("p",[t("code",[e._v("type")]),e._v(": "),t("code",[e._v("boolean")])])]),e._v(" "),t("p",[e._v("默认值："),t("code",[e._v("true")])]),e._v(" "),t("p",[e._v("关于此对象的准确行为，请查看"),t("a",{attrs:{href:"https://github.com/webpack/webpack/blob/master/buildin/global.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("源码"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("h2",{attrs:{id:"node-filename"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-filename"}},[e._v("#")]),e._v(" "),t("code",[e._v("node.__filename")])]),e._v(" "),t("blockquote",[t("p",[t("code",[e._v("type")]),e._v(": "),t("code",[e._v('boolean | "mock"')])])]),e._v(" "),t("p",[e._v("默认值："),t("code",[e._v('"mock"')])]),e._v(" "),t("p",[e._v("选项：")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("true")]),e._v(": "),t("strong",[e._v("输入")]),e._v("文件的文件名，是相对于 "),t("a",{attrs:{href:"https://webpack.js.org/configuration/entry-context/#context",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("context")]),e._v(" 选项"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("li",[t("code",[e._v("false")]),e._v(": 常规的 Node.js "),t("code",[e._v("__filename")]),e._v(" 行为。在 Node.js 环境中运行时，"),t("strong",[e._v("输出")]),e._v("文件的文件名。")]),e._v(" "),t("li",[t("code",[e._v('"mock"')]),e._v(": value 填充为 "),t("code",[e._v('"index.js"')]),e._v(".")])]),e._v(" "),t("h2",{attrs:{id:"node-dirname"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-dirname"}},[e._v("#")]),e._v(" "),t("code",[e._v("node.__dirname")])]),e._v(" "),t("blockquote",[t("p",[t("code",[e._v("type")]),e._v(": "),t("code",[e._v('boolean | "mock"')])])]),e._v(" "),t("p",[e._v("默认值："),t("code",[e._v('"mock"')])]),e._v(" "),t("p",[e._v("选项：")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("true")]),e._v(": "),t("strong",[e._v("输入")]),e._v("文件的目录名，是相对于 "),t("a",{attrs:{href:"https://webpack.js.org/configuration/entry-context/#context",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("context")]),e._v(" 选项"),t("OutboundLink")],1),e._v("。")]),e._v(" "),t("li",[t("code",[e._v("false")]),e._v(": 常规的 Node.js "),t("code",[e._v("__dirname")]),e._v(" 行为。在 Node.js 环境中运行时，"),t("strong",[e._v("输出")]),e._v("文件的目录名。")]),e._v(" "),t("li",[t("code",[e._v('"mock"')]),e._v(": value 填充为 "),t("code",[e._v('"/"')]),e._v("。")])]),e._v(" "),t("h2",{attrs:{id:"node-buffer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-buffer"}},[e._v("#")]),e._v(" "),t("code",[e._v("node.Buffer")])]),e._v(" "),t("blockquote",[t("p",[t("code",[e._v("type")]),e._v(": "),t("code",[e._v('boolean | "mock"')])])]),e._v(" "),t("p",[e._v("默认值："),t("code",[e._v("true")])]),e._v(" "),t("h2",{attrs:{id:"node-setimmediate"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-setimmediate"}},[e._v("#")]),e._v(" "),t("code",[e._v("node.setImmediate")])]),e._v(" "),t("blockquote",[t("p",[t("code",[e._v("type")]),e._v(": "),t("code",[e._v('boolean | "mock" | "empty"')])])]),e._v(" "),t("p",[e._v("默认值："),t("code",[e._v("true")])]),e._v(" "),t("h2",{attrs:{id:"其他-node-js-核心库-node-js-core-libraries"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#其他-node-js-核心库-node-js-core-libraries"}},[e._v("#")]),e._v(" 其他 "),t("code",[e._v("Node.js")]),e._v(" 核心库("),t("code",[e._v("Node.js core libraries")]),e._v(")")]),e._v(" "),t("blockquote",[t("p",[t("code",[e._v("type")]),e._v(": "),t("code",[e._v('boolean | "mock" | "empty"')])])]),e._v(" "),t("blockquote",[t("p",[t("em",[e._v('只有当 target 是未指定、"web" 或 "webworker" 这三种情况时，此选项才会被激活（通过')]),e._v(" "),t("code",[e._v("NodeSourcePlugin")]),t("em",[e._v("）。")])])]),e._v(" "),t("p",[e._v("当 "),t("code",[e._v("NodeSourcePlugin")]),e._v(" 插件启用时，则会使用 "),t("a",{attrs:{href:"https://github.com/webpack/node-libs-browser",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("node-libs-browser")]),t("OutboundLink")],1),e._v(" 来对 Node.js 核心库 polyfill。请查看 "),t("a",{attrs:{href:"https://github.com/webpack/node-libs-browser#readme",target:"_blank",rel:"noopener noreferrer"}},[e._v("Node.js 核心库及其 polyfills"),t("OutboundLink")],1),e._v(" 列表。")]),e._v(" "),t("p",[e._v("默认情况下，如果有一个已知的 polyfill，webpack 会对每个 library 进行 polyfill，如果没有，则 webpack 不会执行任何操作。在后一种情况下，如果模块名称配置为 "),t("code",[e._v("false")]),e._v(" 值，webpack 表现为不会执行任何操作。")]),e._v(" "),t("blockquote",[t("p",[e._v("为了导入内置的模块，使用 "),t("a",{attrs:{href:"https://www.webpackjs.com/api/module-variables/#__non_webpack_require__-webpack-specific-",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("__non_webpack_require__")]),t("OutboundLink")],1),e._v("，例如，使用 "),t("code",[e._v("__non_webpack_require__('modulename')")]),e._v(" 而不是 "),t("code",[e._v("require('modulename')")]),e._v("。")])]),e._v(" "),t("p",[e._v("示例：")]),e._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("node")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("dns")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"mock"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("fs")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"empty"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("path")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[e._v("url")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("false")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),e._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[e._v("1")]),t("br"),t("span",{staticClass:"line-number"},[e._v("2")]),t("br"),t("span",{staticClass:"line-number"},[e._v("3")]),t("br"),t("span",{staticClass:"line-number"},[e._v("4")]),t("br"),t("span",{staticClass:"line-number"},[e._v("5")]),t("br"),t("span",{staticClass:"line-number"},[e._v("6")]),t("br")])])])}),[],!1,null,null,null);t.default=a.exports}}]);