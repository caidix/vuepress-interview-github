<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>原型，继承 | CD&#39;s blog</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/vuepress-interview-github/img/pig.svg">
    <script data-ad-client="ca-pub-7828333725993554" async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="三天打了渔，两天下了雨">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/vuepress-interview-github/assets/css/0.styles.17ae7d79.css" as="style"><link rel="preload" href="/vuepress-interview-github/assets/js/app.4e548d7f.js" as="script"><link rel="preload" href="/vuepress-interview-github/assets/js/2.e83f1016.js" as="script"><link rel="preload" href="/vuepress-interview-github/assets/js/223.5e1e9206.js" as="script"><link rel="prefetch" href="/vuepress-interview-github/assets/js/10.d7dfa765.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/100.87752dc4.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/101.f9e149cd.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/102.c65876ad.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/103.1d07ca7b.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/104.a214da58.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/105.10bb8d00.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/106.528de86c.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/107.a34d898d.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/108.ae12003c.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/109.71af1e6c.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/11.55615da5.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/110.959e86bf.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/111.9a1697e1.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/112.bdf31828.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/113.67dfd0a2.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/114.4c2813ea.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/115.39d8cd2f.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/116.55f0c633.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/117.a2d4f915.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/118.defc6908.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/119.22c0a558.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/12.8b17a15c.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/120.0a1f86e5.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/121.e7d0d6de.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/122.4340844f.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/123.9febecee.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/124.7c9a0688.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/125.ab44f78c.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/126.c7fbed82.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/127.e6d39dd5.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/128.c3fd119c.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/129.6eb97549.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/13.b8233548.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/130.1d0fbb1d.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/131.598516eb.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/132.23631dfb.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/133.c20dc8de.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/134.ac89c88e.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/135.eeec6025.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/136.78ae0f00.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/137.5f0e0672.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/138.8e778af4.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/139.9d399443.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/14.ffbae826.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/140.a4d403d5.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/141.143f1af5.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/142.6c6b36ea.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/143.f3370b84.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/144.a61af7fb.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/145.eca5234b.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/146.81eb91cb.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/147.96d077d2.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/148.ad7435c5.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/149.2b301592.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/15.f93028de.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/150.b87890f0.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/151.a528b721.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/152.258302af.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/153.dca29069.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/154.8b60c800.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/155.c4f470ef.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/156.6e91f71f.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/157.e223dd1f.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/158.744fa854.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/159.d4f9161c.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/16.4e37820e.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/160.e3c68e02.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/161.14892d12.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/162.218f6978.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/163.c4ce472a.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/164.4dfa707a.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/165.93797dea.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/166.fc5c93ee.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/167.8e199360.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/168.44b5bd08.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/169.42095d3f.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/17.afa834cc.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/170.64e91dfc.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/171.958200d2.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/172.9cadd6ca.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/173.c8c106ff.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/174.b64969cb.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/175.3c6364de.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/176.b463f964.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/177.ecfe39c3.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/178.af84e1b1.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/179.092235ff.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/18.cb2c9d3b.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/180.c963876d.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/181.5eadfe5f.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/182.cb5fb418.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/183.02d1fd73.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/184.6c4742e1.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/185.5070fbe0.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/186.12c761af.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/187.e69c9737.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/188.edc0ca12.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/189.c0b4eb57.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/19.c82bfe60.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/190.2f230299.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/191.928d225d.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/192.732edec2.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/193.974a725b.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/194.1e195ce2.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/195.e27627a1.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/196.6113d70d.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/197.f4738422.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/198.52daeabd.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/199.62945421.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/20.deb57042.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/200.938d5378.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/201.9dbd96de.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/202.e08efa54.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/203.1741b6ff.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/204.86d11599.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/205.bc73aef9.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/206.205b93c5.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/207.803f8248.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/208.90f416d4.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/209.ee692a92.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/21.18b9cd04.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/210.793f91fc.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/211.0c493e81.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/212.2026e656.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/213.686aa004.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/214.6295dee0.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/215.21f85bab.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/216.fe74516c.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/217.64cf836f.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/218.a297200b.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/219.fa3bb8c9.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/22.b3c78432.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/220.1410c75f.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/221.45a2aa18.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/222.fc749cfc.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/224.6ad6c5c9.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/225.e98bcd91.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/226.1b51d4ce.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/227.a720bd91.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/228.14605392.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/229.21bf72fa.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/23.d2e4be55.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/230.7cb874ec.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/231.09c5808e.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/232.80aa5e6c.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/233.19c70b10.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/234.59412d51.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/235.291a7ced.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/236.57802856.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/237.919ad298.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/238.326d5459.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/239.87c0d062.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/24.d3b58261.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/240.e7655913.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/241.e22515cb.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/242.e2411e58.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/243.649eae26.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/244.178d14ad.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/245.ec26dd90.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/246.5783d397.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/247.77a345cd.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/248.261ea5a2.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/249.abd32009.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/25.58589374.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/250.0cda849c.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/251.70c93adc.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/252.fea7a591.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/253.e0e74243.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/254.754488e3.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/255.d5030039.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/256.efad9799.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/257.3be49a18.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/258.d7a873c8.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/259.d1f19f97.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/26.a91ce644.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/260.ea67be7f.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/261.e2a5ad21.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/262.c2aea5f5.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/263.c99c41b2.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/264.597bb54d.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/265.cd9acbc3.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/266.d07b6a84.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/267.428b9982.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/27.94591cf3.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/28.3ec0bcb0.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/29.ea23addb.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/3.b2b47b41.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/30.25e291d9.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/31.f80c4080.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/32.935161cd.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/33.58eae9e8.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/34.6d3718c7.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/35.fb170f99.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/36.871ba28a.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/37.89f806fb.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/38.2bb5882e.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/39.51f838e5.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/4.982dd553.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/40.7b9d4587.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/41.8baaa1de.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/42.1cceab65.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/43.160a5caf.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/44.5c7aef19.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/45.4c621ba5.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/46.f341081c.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/47.a9138e88.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/48.0495159e.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/49.cdff06a2.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/5.9b23545a.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/50.f916ce18.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/51.7f028f80.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/52.530f0b91.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/53.1bc3eacb.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/54.815c9ef9.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/55.36b17e74.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/56.7566dc15.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/57.4377ddcc.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/58.f7806bde.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/59.84076057.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/6.06e2dbd7.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/60.55393ed8.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/61.0e8b328f.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/62.7936e59b.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/63.fddf7c64.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/64.46be0284.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/65.afa8b76c.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/66.bfad8276.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/67.cdc1419b.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/68.3216be90.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/69.1846a4c2.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/7.ab329d7c.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/70.d18c1d91.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/71.0feb36b6.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/72.576d73ef.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/73.b03a5376.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/74.933fe977.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/75.efd8f1a4.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/76.7760dc9f.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/77.7c94c2d2.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/78.52ffcd1e.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/79.548593ff.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/8.cbc1b8c8.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/80.2c14912c.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/81.f1b5e07d.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/82.a61a423b.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/83.dc3e1553.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/84.12fb8f49.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/85.d6dc2da0.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/86.fef350b6.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/87.4ae66853.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/88.46cb9b40.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/89.75d4aa79.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/9.680f7e3a.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/90.2d3c345c.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/91.18bb5a4a.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/92.8cb1ca0e.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/93.647957ae.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/94.0fcfe396.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/95.fb024fe4.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/96.a8b363b1.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/97.a16ab031.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/98.15cf5028.js"><link rel="prefetch" href="/vuepress-interview-github/assets/js/99.58151768.js">
    <link rel="stylesheet" href="/vuepress-interview-github/assets/css/0.styles.17ae7d79.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-interview-github/" class="home-link router-link-active"><img src="/vuepress-interview-github/assets/icon.jpg" alt="CD's blog" class="logo"> <span class="site-name can-hide">CD's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress-interview-github/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="	🐳前端知识点" class="dropdown-title"><a href="/vuepress-interview-github/interview/" class="link-title">	🐳前端知识点</a> <span class="title" style="display:none;">	🐳前端知识点</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/interview/html/" class="nav-link">HTMLCSS</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/interview/js/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/interview/vue/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/interview/ts/" class="nav-link">TypeScript</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/interview/react/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/interview/node/" class="nav-link">Node</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/interview/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/interview/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/interview/nestjs/" class="nav-link">Nestjs</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/interview/miniprogram/" class="nav-link">小程序</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/interview/browser/" class="nav-link">浏览器网络</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🤖相关书籍" class="dropdown-title"><a href="/vuepress-interview-github/web/" class="link-title">🤖相关书籍</a> <span class="title" style="display:none;">🤖相关书籍</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-interview-github/note/typescript-axios/" class="nav-link">《TypeScript 从零实现 axios》</a></li><li class="dropdown-subitem"><a href="/vuepress-interview-github/note/Webpack/" class="nav-link">Webpack笔记</a></li></ul></li><li class="dropdown-item"><h4>JS/TS教程</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-interview-github/note/break/" class="nav-link">《现代JavaScript》教程</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/vuepress-interview-github/tools/" class="nav-link">🔧工具方法</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🍎收藏" class="dropdown-title"><a href="/vuepress-interview-github/pages/beb6c0bd8a66cea6/" class="link-title">🍎收藏</a> <span class="title" style="display:none;">🍎收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/pages/beb6c0bd8a66cea6/" class="nav-link">网站</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/pages/eee83a9211a70f9d/" class="nav-link">资源</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/pages/12df8ace52d493f6/" class="nav-link">Vue资源</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🌐索引" class="dropdown-title"><a href="/vuepress-interview-github/archives/" class="link-title">🌐索引</a> <span class="title" style="display:none;">🌐索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com//caidix/vuepress-interview-github" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/vuepress-interview-github/assets/icon.jpg"> <div class="blogger-info"><h3>CD_wOw</h3> <span>内卷的行情，到不了的梦</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/vuepress-interview-github/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="	🐳前端知识点" class="dropdown-title"><a href="/vuepress-interview-github/interview/" class="link-title">	🐳前端知识点</a> <span class="title" style="display:none;">	🐳前端知识点</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/interview/html/" class="nav-link">HTMLCSS</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/interview/js/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/interview/vue/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/interview/ts/" class="nav-link">TypeScript</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/interview/react/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/interview/node/" class="nav-link">Node</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/interview/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/interview/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/interview/nestjs/" class="nav-link">Nestjs</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/interview/miniprogram/" class="nav-link">小程序</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/interview/browser/" class="nav-link">浏览器网络</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🤖相关书籍" class="dropdown-title"><a href="/vuepress-interview-github/web/" class="link-title">🤖相关书籍</a> <span class="title" style="display:none;">🤖相关书籍</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-interview-github/note/typescript-axios/" class="nav-link">《TypeScript 从零实现 axios》</a></li><li class="dropdown-subitem"><a href="/vuepress-interview-github/note/Webpack/" class="nav-link">Webpack笔记</a></li></ul></li><li class="dropdown-item"><h4>JS/TS教程</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-interview-github/note/break/" class="nav-link">《现代JavaScript》教程</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/vuepress-interview-github/tools/" class="nav-link">🔧工具方法</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🍎收藏" class="dropdown-title"><a href="/vuepress-interview-github/pages/beb6c0bd8a66cea6/" class="link-title">🍎收藏</a> <span class="title" style="display:none;">🍎收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/pages/beb6c0bd8a66cea6/" class="nav-link">网站</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/pages/eee83a9211a70f9d/" class="nav-link">资源</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/pages/12df8ace52d493f6/" class="nav-link">Vue资源</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🌐索引" class="dropdown-title"><a href="/vuepress-interview-github/archives/" class="link-title">🌐索引</a> <span class="title" style="display:none;">🌐索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/vuepress-interview-github/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com//caidix/vuepress-interview-github" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>简介</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript 基础知识</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据类型</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>函数进阶内容</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>对象属性配置</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>原型，继承</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-interview-github/pages/bdd430/" aria-current="page" class="active sidebar-link">原型，继承</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/vuepress-interview-github/pages/bdd430/#prototype" class="sidebar-link">[[Prototype\]]</a></li><li class="sidebar-sub-header level2"><a href="/vuepress-interview-github/pages/bdd430/#写入不使用原型" class="sidebar-link">写入不使用原型</a></li><li class="sidebar-sub-header level2"><a href="/vuepress-interview-github/pages/bdd430/#this-的值" class="sidebar-link">“this” 的值</a></li><li class="sidebar-sub-header level2"><a href="/vuepress-interview-github/pages/bdd430/#for-in-循环" class="sidebar-link">for…in 循环</a></li><li class="sidebar-sub-header level2"><a href="/vuepress-interview-github/pages/bdd430/#总结" class="sidebar-link">总结</a></li><li class="sidebar-sub-header level2"><a href="/vuepress-interview-github/pages/bdd430/#实例" class="sidebar-link">实例</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/vuepress-interview-github/pages/bdd430/#使用原型" class="sidebar-link">使用原型</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-interview-github/pages/bdd430/#搜索算法" class="sidebar-link">搜索算法</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-interview-github/pages/bdd430/#写在哪里" class="sidebar-link">写在哪里</a></li><li class="sidebar-sub-header level3"><a href="/vuepress-interview-github/pages/bdd430/#为什么两只仓鼠都饱了" class="sidebar-link">为什么两只仓鼠都饱了？</a></li></ul></li></ul></li><li><a href="/vuepress-interview-github/pages/81ff20/" class="sidebar-link">原生的原型</a></li><li><a href="/vuepress-interview-github/pages/7ac151/" class="sidebar-link">F.prototype</a></li><li><a href="/vuepress-interview-github/pages/230086/" class="sidebar-link">原型方法，没有 __proto__ 的对象</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>类</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>错误处理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Promise，asyncawait</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Generator，高级 iteration</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>模块</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>杂项</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/vuepress-interview-github/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/vuepress-interview-github/categories/?category=%E3%80%8A%E7%8E%B0%E4%BB%A3JavaScript%E3%80%8B%E6%95%99%E7%A8%8B" title="分类" data-v-06225672>《现代JavaScript》教程</a></li><li data-v-06225672><a href="/vuepress-interview-github/categories/?category=%E5%8E%9F%E5%9E%8B%EF%BC%8C%E7%BB%A7%E6%89%BF" title="分类" data-v-06225672>原型，继承</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/caidix" target="_blank" title="作者" class="beLink" data-v-06225672>CD_wOw</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2020-12-13</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">原型，继承<!----></h1> <!----> <div class="theme-vdoing-content content__default"><p>在编程中，我们经常会想获取并扩展一些东西。</p> <p>例如，我们有一个 <code>user</code> 对象及其属性和方法，并希望将 <code>admin</code> 和 <code>guest</code> 作为基于 <code>user</code> 稍加修改的变体。我们想重用 <code>user</code> 中的内容，而不是复制/重新实现它的方法，而只是在其之上构建一个新的对象。</p> <p><strong>原型继承（Prototypal inheritance）</strong> 这个语言特性能够帮助我们实现这一需求。</p> <h2 id="prototype"><a href="#prototype" class="header-anchor">#</a> [[<code>Prototype</code>]]</h2> <p>在 <code>JavaScript</code> 中，对象有一个特殊的隐藏属性 <code>[[Prototype]]</code>（如规范中所命名的），它要么为 <code>null</code>，要么就是对另一个对象的引用。该对象被称为“原型”：</p> <p><img src="https://picgoi-mg.oss-cn-beijing.aliyuncs.com/img/20201213102944.png" alt=""></p> <p>当我们从 <code>object</code> 中读取一个缺失的属性时，<code>JavaScript</code> 会自动从原型中获取该属性。在编程中，这种行为被称为“原型继承”。很快，我们将通过很多示例来学习此类继承，以及基于此类继承的更炫酷的语言功能。</p> <p>属性 <code>[[Prototype]]</code> 是内部的而且是隐藏的，但是这儿有很多设置它的方式。</p> <p>其中之一就是使用特殊的名字 <code>__proto__</code>，就像这样：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> animal <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">eats</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">jumps</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

rabbit<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> animal<span class="token punctuation">;</span> <span class="token comment">// 设置 rabbit.[[Prototype]] = animal</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>现在，如果我们从 <code>rabbit</code> 中读取一个它没有的属性，<code>JavaScript</code> 会自动从 <code>animal</code> 中获取。</p> <p>例如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> animal <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">eats</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">jumps</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

rabbit<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> animal<span class="token punctuation">;</span> <span class="token comment">// (*)</span>

<span class="token comment">// 现在这两个属性我们都能在 rabbit 中找到：</span>
<span class="token function">alert</span><span class="token punctuation">(</span> rabbit<span class="token punctuation">.</span>eats <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true (**)</span>
<span class="token function">alert</span><span class="token punctuation">(</span> rabbit<span class="token punctuation">.</span>jumps <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>这里的 <code>(*)</code> 行将 <code>animal</code> 设置为 <code>rabbit</code> 的原型。</p> <p>当 <code>alert</code> 试图读取 <code>rabbit.eats</code> <code>(**)</code> 时，因为它不存在于 <code>rabbit</code> 中，所以 <code>JavaScript</code> 会顺着 <code>[[Prototype]]</code> 引用，在 <code>animal</code> 中查找（自下而上）</p> <p><img src="https://picgoi-mg.oss-cn-beijing.aliyuncs.com/img/20201213103452.png" alt=""></p> <p>在这儿我们可以说 &quot;<code>animal</code> 是 <code>rabbit</code> 的原型&quot;，或者说 &quot;<code>rabbit</code> 的原型是从 <code>animal</code> 继承而来的&quot;。</p> <p>因此，如果 <code>animal</code> 有许多有用的属性和方法，那么它们将自动地变为在 <code>rabbit</code> 中可用。这种属性被称为“继承”。</p> <p>如果我们在 <code>animal</code> 中有一个方法，它可以在 <code>rabbit</code> 中被调用：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> animal <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">eats</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token function">walk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Animal walk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">jumps</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">__proto__</span><span class="token operator">:</span> animal
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// walk 方法是从原型中获得的</span>
rabbit<span class="token punctuation">.</span><span class="token function">walk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Animal walk</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>该方法是自动地从原型中获得的，像这样：</p> <p><strong><img src="https://picgoi-mg.oss-cn-beijing.aliyuncs.com/img/20201213103642.png" alt=""></strong></p> <p>原型链可以很长：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> animal <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">eats</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token function">walk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Animal walk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">jumps</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">__proto__</span><span class="token operator">:</span> animal
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> longEar <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">earLength</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  <span class="token literal-property property">__proto__</span><span class="token operator">:</span> rabbit
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// walk 是通过原型链获得的</span>
longEar<span class="token punctuation">.</span><span class="token function">walk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Animal walk</span>
<span class="token function">alert</span><span class="token punctuation">(</span>longEar<span class="token punctuation">.</span>jumps<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true（从 rabbit）</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><img src="https://picgoi-mg.oss-cn-beijing.aliyuncs.com/img/20201213111831.png" alt=""></p> <p>现在，如果我们从 <code>longEar</code> 中读取一些它不存在的内容，JavaScript 会先在 <code>rabbit</code> 中查找，然后在 <code>animal</code> 中查找。</p> <p>这里只有两个限制：</p> <ol><li>引用不能形成闭环。如果我们试图在一个闭环中分配 <code>__proto__</code>，JavaScript 会抛出错误。</li> <li><code>__proto__</code> 的值可以是对象，也可以是 <code>null</code>。而其他的类型都会被忽略。</li></ol> <p>当然，这可能很显而易见，但是仍然要强调：只能有一个 <code>[[Prototype]]</code>。一个对象不能从其他两个对象获得继承。</p> <blockquote><p><strong><code>__proto__</code> 是 <code>[[Prototype]]</code> 的因历史原因而留下来的 getter/setter</strong></p> <p>初学者常犯一个普遍的错误，就是不知道 <code>__proto__</code> 和 <code>[[Prototype]]</code> 的区别。</p> <p>请注意，<code>__proto__</code> 与内部的 <code>[[Prototype]]</code> <strong>不一样</strong>。<code>__proto__</code> 是 <code>[[Prototype]]</code> 的 getter/setter。稍后，我们将看到在什么情况下理解它们很重要，在建立对 JavaScript 语言的理解时，让我们牢记这一点。</p> <p><code>__proto__</code> 属性有点过时了。它的存在是出于历史的原因，现代编程语言建议我们应该使用函数 <code>Object.getPrototypeOf/Object.setPrototypeOf</code> 来取代 <code>__proto__</code> 去 get/set 原型。稍后我们将介绍这些函数。</p> <p>根据规范，<code>__proto__</code> 必须仅受浏览器环境的支持。但实际上，包括服务端在内的所有环境都支持它，因此我们使用它是非常安全的。</p> <p>由于 <code>__proto__</code> 标记在观感上更加明显，所以我们在后面的示例中将使用它。</p></blockquote> <h2 id="写入不使用原型"><a href="#写入不使用原型" class="header-anchor">#</a> 写入不使用原型</h2> <p>原型仅用于读取属性。</p> <p>对于写入/删除操作可以直接在对象上进行。</p> <p>在下面的示例中，我们将为 <code>rabbit</code> 分配自己的 <code>walk</code>：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> animal <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">eats</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token function">walk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* rabbit 不会使用此方法 */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">__proto__</span><span class="token operator">:</span> animal
<span class="token punctuation">}</span><span class="token punctuation">;</span>

rabbit<span class="token punctuation">.</span><span class="token function-variable function">walk</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;Rabbit! Bounce-bounce!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

rabbit<span class="token punctuation">.</span><span class="token function">walk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Rabbit! Bounce-bounce!</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>从现在开始，<code>rabbit.walk()</code> 将立即在对象中找到该方法并执行，而无需使用原型：</p> <p><img src="https://picgoi-mg.oss-cn-beijing.aliyuncs.com/img/20201213111955.png" alt=""></p> <p>访问器（<code>accessor</code>）属性是一个例外，因为分配（<code>assignment</code>）操作是由 setter 函数处理的。因此，写入此类属性实际上与调用函数相同。</p> <p>也就是这个原因，所以下面这段代码中的 <code>admin.fullName</code> 能够正常运行：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">surname</span><span class="token operator">:</span> <span class="token string">&quot;Smith&quot;</span><span class="token punctuation">,</span>

  <span class="token keyword">set</span> <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>surname<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token keyword">get</span> <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>surname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> admin <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">__proto__</span><span class="token operator">:</span> user<span class="token punctuation">,</span>
  <span class="token literal-property property">isAdmin</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span>admin<span class="token punctuation">.</span>fullName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// John Smith (*)</span>

<span class="token comment">// setter triggers!</span>
admin<span class="token punctuation">.</span>fullName <span class="token operator">=</span> <span class="token string">&quot;Alice Cooper&quot;</span><span class="token punctuation">;</span> <span class="token comment">// (**)</span>

<span class="token function">alert</span><span class="token punctuation">(</span>admin<span class="token punctuation">.</span>fullName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Alice Cooper，admin 的内容被修改了</span>
<span class="token function">alert</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>fullName<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// John Smith，user 的内容被保护了</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>在 <code>(*)</code> 行中，属性 <code>admin.fullName</code> 在原型 <code>user</code> 中有一个 <code>getter</code>，因此它会被调用。在 <code>(**)</code> 行中，属性在原型中有一个 <code>setter</code>，因此它会被调用。</p> <h2 id="this-的值"><a href="#this-的值" class="header-anchor">#</a> “<code>this</code>” 的值</h2> <p>在上面的例子中可能会出现一个有趣的问题：在 <code>set fullName(value)</code> 中 <code>this</code> 的值是什么？属性 <code>this.name</code> 和 <code>this.surname</code> 被写在哪里：在 <code>user</code> 还是 <code>admin</code>？</p> <p>答案很简单：<code>this</code> 根本不受原型的影响。</p> <p><strong>无论在哪里找到方法：在一个对象还是在原型中。在一个方法调用中，<code>this</code> 始终是点符号 <code>.</code> 前面的对象。</strong></p> <p>因此，<code>setter</code> 调用 <code>admin.fullName=</code> 使用 <code>admin</code> 作为 <code>this</code>，而不是 <code>user</code>。</p> <p>这是一件非常重要的事儿，因为我们可能有一个带有很多方法的大对象，并且还有从其继承的对象。当继承的对象运行继承的方法时，它们将仅修改自己的状态，而不会修改大对象的状态。</p> <p>例如，这里的 <code>animal</code> 代表“方法存储”，<code>rabbit</code> 在使用其中的方法。</p> <p>调用 <code>rabbit.sleep()</code> 会在 <code>rabbit</code> 对象上设置 <code>this.isSleeping</code>：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// animal 有一些方法</span>
<span class="token keyword">let</span> animal <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">walk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>isSleeping<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">I walk</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isSleeping <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;White Rabbit&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">__proto__</span><span class="token operator">:</span> animal
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 修改 rabbit.isSleeping</span>
rabbit<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span>rabbit<span class="token punctuation">.</span>isSleeping<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token function">alert</span><span class="token punctuation">(</span>animal<span class="token punctuation">.</span>isSleeping<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined（原型中没有此属性）</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>结果示意图：</p> <p><img src="https://picgoi-mg.oss-cn-beijing.aliyuncs.com/img/20201213112234.png" alt=""></p> <p>如果我们还有从 <code>animal</code> 继承的其他对象，像 <code>bird</code> 和 <code>snake</code> 等，它们也将可以访问 <code>animal</code> 的方法。但是，每个方法调用中的 <code>this</code> 都是在调用时（点符号前）评估的对应的对象，而不是 <code>animal</code>。因此，当我们将数据写入 <code>this</code> 时，会将其存储到这些对象中。</p> <p>所以，方法是共享的，但对象状态不是。</p> <h2 id="for-in-循环"><a href="#for-in-循环" class="header-anchor">#</a> <code>for…in</code> 循环</h2> <p><code>for..in</code> 循环也会迭代继承的属性。</p> <p>例如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> animal <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">eats</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">jumps</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">__proto__</span><span class="token operator">:</span> animal
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Object.keys 只返回自己的 key</span>
<span class="token function">alert</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>rabbit<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// jumps</span>

<span class="token comment">// for..in 会遍历自己以及继承的键</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> prop <span class="token keyword">in</span> rabbit<span class="token punctuation">)</span> <span class="token function">alert</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// jumps，然后是 eats</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>如果这不是我们想要的，并且我们想排除继承的属性，那么这儿有一个内建方法 <a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty" target="_blank" rel="noopener noreferrer">obj.hasOwnProperty(key)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：如果 <code>obj</code> 具有自己的（非继承的）名为 <code>key</code> 的属性，则返回 <code>true</code>。</p> <p>因此，我们可以过滤掉继承的属性（或对它们进行其他操作）：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> animal <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">eats</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">jumps</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">__proto__</span><span class="token operator">:</span> animal
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> prop <span class="token keyword">in</span> rabbit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> isOwn <span class="token operator">=</span> rabbit<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>isOwn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Our: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>prop<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Our: jumps</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Inherited: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>prop<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Inherited: eats</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>这里我们有以下继承链：<code>rabbit</code> 从 <code>animal</code> 中继承，<code>animal</code> 从 <code>Object.prototype</code> 中继承（因为 <code>animal</code> 是对象字面量 <code>{...}</code>，所以这是默认的继承），然后再向上是 <code>null</code>：</p> <p><img src="https://picgoi-mg.oss-cn-beijing.aliyuncs.com/img/20201213112339.png" alt=""></p> <p>注意，这有一件很有趣的事儿。方法 <code>rabbit.hasOwnProperty</code> 来自哪儿？我们并没有定义它。从上图中的原型链我们可以看到，该方法是 <code>Object.prototype.hasOwnProperty</code> 提供的。换句话说，它是继承的。</p> <p>……如果 <code>for..in</code> 循环会列出继承的属性，那为什么 <code>hasOwnProperty</code> 没有像 <code>eats</code> 和 <code>jumps</code> 那样出现在 <code>for..in</code> 循环中？</p> <p>答案很简单：它是不可枚举的。就像 <code>Object.prototype</code> 的其他属性，<code>hasOwnProperty</code> 有 <code>enumerable:false</code> 标志。并且 <code>for..in</code> 只会列出可枚举的属性。这就是为什么它和其余的 <code>Object.prototype</code> 属性都未被列出。</p> <blockquote><p><strong>几乎所有其他键/值获取方法都忽略继承的属性</strong></p> <p>几乎所有其他键/值获取方法，例如 <code>Object.keys</code> 和 <code>Object.values</code> 等，都会忽略继承的属性。</p> <p>它们只会对对象自身进行操作。<strong>不考虑</strong> 继承自原型的属性。</p></blockquote> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <ul><li>在 JavaScript 中，所有的对象都有一个隐藏的 <code>[[Prototype]]</code> 属性，它要么是另一个对象，要么就是 <code>null</code>。</li> <li>我们可以使用 <code>obj.__proto__</code> 访问它（历史遗留下来的 getter/setter，这儿还有其他方法，很快我们就会讲到）。</li> <li>通过 <code>[[Prototype]]</code> 引用的对象被称为“原型”。</li> <li>如果我们想要读取 <code>obj</code> 的一个属性或者调用一个方法，并且它不存在，那么 JavaScript 就会尝试在原型中查找它。</li> <li>写/删除操作直接在对象上进行，它们不使用原型（假设它是数据属性，不是 setter）。</li> <li>如果我们调用 <code>obj.method()</code>，而且 <code>method</code> 是从原型中获取的，<code>this</code> 仍然会引用 <code>obj</code>。因此，方法始终与当前对象一起使用，即使方法是继承的。</li> <li><code>for..in</code> 循环在其自身和继承的属性上进行迭代。所有其他的键/值获取方法仅对对象本身起作用。</li></ul> <h2 id="实例"><a href="#实例" class="header-anchor">#</a> 实例</h2> <h3 id="使用原型"><a href="#使用原型" class="header-anchor">#</a> 使用原型</h3> <p>下面这段代码创建了一对对象，然后对它们进行修改。</p> <p>过程中会显示哪些值？</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> animal <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">jumps</span><span class="token operator">:</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">__proto__</span><span class="token operator">:</span> animal<span class="token punctuation">,</span>
  <span class="token literal-property property">jumps</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> rabbit<span class="token punctuation">.</span>jumps <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ? (1)</span>

<span class="token keyword">delete</span> rabbit<span class="token punctuation">.</span>jumps<span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> rabbit<span class="token punctuation">.</span>jumps <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ? (2)</span>

<span class="token keyword">delete</span> animal<span class="token punctuation">.</span>jumps<span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> rabbit<span class="token punctuation">.</span>jumps <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ? (3)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>应该有 3 个答案。</p> <h4 id="解决方案"><a href="#解决方案" class="header-anchor">#</a> 解决方案</h4> <blockquote><ol><li><code>true</code>，来自于 <code>rabbit</code>。</li> <li><code>null</code>，来自于 <code>animal</code>。</li> <li><code>undefined</code>，不再有这样的属性存在。</li></ol></blockquote> <h3 id="搜索算法"><a href="#搜索算法" class="header-anchor">#</a> 搜索算法</h3> <p>本题目有两个部分。</p> <p>给定以下对象：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> head <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">glasses</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> table <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">pen</span><span class="token operator">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> bed <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">sheet</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pillow</span><span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> pockets <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">money</span><span class="token operator">:</span> <span class="token number">2000</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ol><li>使用 <code>__proto__</code> 来分配原型，以使得任何属性的查找都遵循以下路径：<code>pockets</code> → <code>bed</code> → <code>table</code> → <code>head</code>。例如，<code>pockets.pen</code> 应该是 <code>3</code>（在 <code>table</code> 中找到），<code>bed.glasses</code> 应该是 <code>1</code>（在 <code>head</code> 中找到）。</li> <li>回答问题：通过 <code>pockets.glasses</code> 或 <code>head.glasses</code> 获取 <code>glasses</code>，哪个更快？必要时需要进行基准测试。</li></ol> <h4 id="解决方案-2"><a href="#解决方案-2" class="header-anchor">#</a> 解决方案</h4> <blockquote><ol><li><p>让我们添加 <code>__proto__</code>：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> head <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">glasses</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> table <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">pen</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token literal-property property">__proto__</span><span class="token operator">:</span> head
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> bed <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">sheet</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pillow</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token literal-property property">__proto__</span><span class="token operator">:</span> table
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> pockets <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">money</span><span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">,</span>
  <span class="token literal-property property">__proto__</span><span class="token operator">:</span> bed
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span> pockets<span class="token punctuation">.</span>pen <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
<span class="token function">alert</span><span class="token punctuation">(</span> bed<span class="token punctuation">.</span>glasses <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token function">alert</span><span class="token punctuation">(</span> table<span class="token punctuation">.</span>money <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div></li> <li><p>在现代引擎中，从性能的角度来看，我们是从对象还是从原型链获取属性都是没区别的。它们（引擎）会记住在哪里找到的该属性，并在下一次请求中重用它。</p> <p>例如，对于 <code>pockets.glasses</code> 来说，它们（引擎）会记得在哪里找到的 <code>glasses</code>（在 <code>head</code> 中），这样下次就会直接在这个位置进行搜索。并且引擎足够聪明，一旦有内容更改，它们就会自动更新内部缓存，因此，该优化是安全的。</p></li></ol></blockquote> <h3 id="写在哪里"><a href="#写在哪里" class="header-anchor">#</a> 写在哪里</h3> <p>我们有从 <code>animal</code> 中继承的 <code>rabbit</code>。</p> <p>如果我们调用 <code>rabbit.eat()</code>，哪一个对象会接收到 <code>full</code> 属性：<code>animal</code> 还是 <code>rabbit</code>？</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> animal <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>full <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> rabbit <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">__proto__</span><span class="token operator">:</span> animal
<span class="token punctuation">}</span><span class="token punctuation">;</span>

rabbit<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="解决方案-3"><a href="#解决方案-3" class="header-anchor">#</a> 解决方案</h4> <blockquote><p><strong>答案：<code>rabbit</code>。</strong></p> <p>这是因为 <code>this</code> 是点符号前面的这个对象，因此 <code>rabbit.eat()</code> 修改了 <code>rabbit</code>。</p> <p>属性查找和执行是两回事儿。</p> <p>首先在原型中找到 <code>rabbit.eat</code> 方法，然后在 <code>this=rabbit</code> 的情况下执行。</p></blockquote> <h3 id="为什么两只仓鼠都饱了"><a href="#为什么两只仓鼠都饱了" class="header-anchor">#</a> 为什么两只仓鼠都饱了？</h3> <p>我们有两只仓鼠：<code>speedy</code> 和 <code>lazy</code> 都继承自普通的 <code>hamster</code> 对象。</p> <p>当我们喂其中一只的时候，另一只也吃饱了。为什么？如何修复它？</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> hamster <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">stomach</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

  <span class="token function">eat</span><span class="token punctuation">(</span><span class="token parameter">food</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>stomach<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>food<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> speedy <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">__proto__</span><span class="token operator">:</span> hamster
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> lazy <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">__proto__</span><span class="token operator">:</span> hamster
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 这只仓鼠找到了食物</span>
speedy<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token string">&quot;apple&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span> speedy<span class="token punctuation">.</span>stomach <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// apple</span>

<span class="token comment">// 这只仓鼠也找到了食物，为什么？请修复它。</span>
<span class="token function">alert</span><span class="token punctuation">(</span> lazy<span class="token punctuation">.</span>stomach <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// apple</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h4 id="解决方案-4"><a href="#解决方案-4" class="header-anchor">#</a> 解决方案</h4> <blockquote><p>我们仔细研究一下在调用 <code>speedy.eat(&quot;apple&quot;)</code> 的时候，发生了什么。</p> <ol><li><code>speedy.eat</code> 方法在原型（<code>=hamster</code>）中被找到，然后执行 <code>this=speedy</code>（在点符号前面的对象）。</li> <li><code>this.stomach.push()</code> 需要找到 <code>stomach</code> 属性，然后对其调用 <code>push</code>。它在 <code>this</code>（<code>=speedy</code>）中查找 <code>stomach</code>，但并没有找到。</li> <li>然后它顺着原型链，在 <code>hamster</code> 中找到 <code>stomach</code>。</li> <li>然后它对 <code>stomach</code> 调用 <code>push</code>，将食物添加到 <strong><code>stomach</code> 的原型</strong> 中。</li></ol> <p>因此，所有的仓鼠共享了同一个胃！</p> <p>对于 <code>lazy.stomach.push(...)</code> 和 <code>speedy.stomach.push()</code> 而言，属性 <code>stomach</code> 被在原型中找到（不是在对象自身），然后向其中 <code>push</code> 了新数据。</p> <p>请注意，在简单的赋值 <code>this.stomach=</code> 的情况下不会出现这种情况：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> hamster <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">stomach</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

  <span class="token function">eat</span><span class="token punctuation">(</span><span class="token parameter">food</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 分配给 this.stomach 而不是 this.stomach.push</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>stomach <span class="token operator">=</span> <span class="token punctuation">[</span>food<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> speedy <span class="token operator">=</span> <span class="token punctuation">{</span>
   <span class="token literal-property property">__proto__</span><span class="token operator">:</span> hamster
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> lazy <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">__proto__</span><span class="token operator">:</span> hamster
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 仓鼠 Speedy 找到了食物</span>
speedy<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token string">&quot;apple&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span> speedy<span class="token punctuation">.</span>stomach <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// apple</span>

<span class="token comment">// 仓鼠 Lazy 的胃是空的</span>
<span class="token function">alert</span><span class="token punctuation">(</span> lazy<span class="token punctuation">.</span>stomach <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;nothing&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>现在，一切都运行正常，因为 <code>this.stomach=</code> 不会执行对 <code>stomach</code> 的查找。该值会被直接写入 <code>this</code> 对象。</p> <p>此外，我们还可以通过确保每只仓鼠都有自己的胃来完全回避这个问题：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> hamster <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">stomach</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

  <span class="token function">eat</span><span class="token punctuation">(</span><span class="token parameter">food</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>stomach<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>food<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> speedy <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">__proto__</span><span class="token operator">:</span> hamster<span class="token punctuation">,</span>
  <span class="token literal-property property">stomach</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> lazy <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">__proto__</span><span class="token operator">:</span> hamster<span class="token punctuation">,</span>
  <span class="token literal-property property">stomach</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 仓鼠 Speedy 找到了食物</span>
speedy<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token string">&quot;apple&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span> speedy<span class="token punctuation">.</span>stomach <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// apple</span>

<span class="token comment">// 仓鼠 Lazy 的胃是空的</span>
<span class="token function">alert</span><span class="token punctuation">(</span> lazy<span class="token punctuation">.</span>stomach <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;nothing&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>作为一种常见的解决方案，所有描述特定对象状态的属性，例如上面的 <code>stomach</code>，都应该被写入该对象中。这样可以避免此类问题。</p></blockquote></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com//caidix/vuepress-interview-github/edit/master/docs/《现代JavaScript》教程/30.原型，继承/01.原型，继承.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/vuepress-interview-github/tags/?tag=%E7%8E%B0%E4%BB%A3JavaScript" title="标签">#现代JavaScript</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021/08/22, 01:09:59</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/vuepress-interview-github/pages/76fc55/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">属性的 getter 和 setter</div></a> <a href="/vuepress-interview-github/pages/81ff20/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">原生的原型</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/vuepress-interview-github/pages/76fc55/" class="prev">属性的 getter 和 setter</a></span> <span class="next"><a href="/vuepress-interview-github/pages/81ff20/">原生的原型</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/vuepress-interview-github/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/vuepress-interview-github/pages/7f7024/"><div>
            gsap动画库学习笔记 - 持续~
            <!----></div></a> <span class="date">06-05</span></dt></dl><dl><dd>02</dd> <dt><a href="/vuepress-interview-github/pages/af84a4/"><div>
            远程组件加载方案笔记
            <!----></div></a> <span class="date">05-03</span></dt></dl><dl><dd>03</dd> <dt><a href="/vuepress-interview-github/pages/cd04a9/"><div>
            小程序使用笔记
            <!----></div></a> <span class="date">03-29</span></dt></dl> <dl><dd></dd> <dt><a href="/vuepress-interview-github/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:380141132@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/caidix" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2020-2023
    <span>CD | <a href="https://github.com/caidix" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div><div></div></div></div>
    <script src="/vuepress-interview-github/assets/js/app.4e548d7f.js" defer></script><script src="/vuepress-interview-github/assets/js/2.e83f1016.js" defer></script><script src="/vuepress-interview-github/assets/js/223.5e1e9206.js" defer></script>
  </body>
</html>
