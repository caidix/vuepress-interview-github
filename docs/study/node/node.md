## node

1. node 中，绝大部分的操作都是以异步的形式进行调用，这样的意义在于，在Node中，我们可以从语言层面很自然的进行并行I/O操作，每个调用之间无需等待之前的I/O调用结束。在编程模型上可以大大提升效率。

2. Node模块的实现
 在node中引入模块需要经历以下三个步骤：
 - 路径分析
 - 文件定位
 - 编译执行

在Node中，模块分为两类：一类是node提供的模板，称为核心模块。另一类是用户编写的模块，成为文件模块。
核心模块在node源代码的编译过程中，编译进了二进制文件。在Node进程启动时,部分核心模块就被直接加载进内存中,所以这部分核心模块引入时,文件定位和编译执行这两个步骤可以省略掉,并且在路径分析中优先判断,所以它的加载速度是最快的。
不论是核心模块还是文件模块, require()方法对相同模块的二次加载都一律采用缓存优先的方式,这是第一优先级的。不同之处在于核心模块的缓存检査先于文件模块的缓存检査。
Node缓存的是编译和执行后的对象

## Node是单线程的吗？
首先，进程是计算机系统进行资源分配和调度的基本单位，是操作系统结构的基础，是资源分配最小的单位。进程是线程的容器，是一对多的关系。每开启一个服务、运行一个实例，就是开一个服务进程。每一个进程都拥有自己的独立空间地址、数据栈，一个进程无法访问另外一个进程里定义的变量、数据结构，只有建立了IPC通信，进程之间才能数据共享。
### 单线程
javascript就是属于单线程，程序按顺序执行。若存在队列中，前面一个执行完后，后面才可以执行，当你在使用单线程语言编码时切勿有过多耗时的同步操作，否则线程会造成阻塞，导致后续响应无法处理。
- node虽然是单线程，但是其基于事件驱动、异步非阻塞模式，可以应用于高并发场景，避免了线程创建、线程之间上下文切换所产生的资源开销。
- 当你的项目中需要有大量计算，CPU耗时的操作时候，要注意考虑开启多进程来完成了。
- Node在开发过程中，错误会引起整体应用退出，所以异常的捕获抛出及进程的守护是很有必要的。

1. node中的进程
node中的进程Process是一个全局对象。


## 3. node中的模块
fs模块是唯一一个同时提供同步和异步api的模块。

### 流stream

- stdin:标准输入
- stdout:标准输出
- stderr:标准错误

stream实现文件分块读取
```javascript
var stream = fs.createReadStream('mytext.txt')
stream.on('data', function(chunk) {
  ...
})
stream.on('end', function (chunk) {
  ...
})
```

### 工作目录
- __dirname 获取执行文件时该文件在文件系统中所在的目录
- process.cwd()获取程序运行时当前的工作目录
- process.chdir()更改工作目录
- process.env变量访问shell环境下的变量
- process.exit推出